(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{4154:function(e,t,s){Promise.resolve().then(s.bind(s,5923))},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2431:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5923:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var a=s(7437),n=s(2265),i=s(9376),r=s(1671),l=s(9388),d=s(6865),c=s(2431),m=s(9205);let x=(0,m.Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=s(5868),h=s(8420),u=s(6215),p=s(5805),j=s(4401);let b=(0,m.Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var g=s(3774),v=s(1047),N=s(9345);let f=(0,m.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var y=s(9064),w=s(340),k=s(4607),Z=s(4540),C=s(525),M=s(3085),D=s(2735),S=s(5252);let A=(0,m.Z)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),L=(0,m.Z)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);function I(e){let{tenantId:t,metrics:s,onRefresh:i}=e,[r,l]=(0,n.useState)("30d"),[d,m]=(0,n.useState)(!1),[x,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{h()},[r,s]);let h=()=>{let e="7d"===r?7:"30d"===r?30:"90d"===r?90:365,t=[],a=[],n=[],i=[];for(let l=e-1;l>=0;l--){let d=new Date;d.setDate(d.getDate()-l),"7d"===r?t.push((0,k.cp)(d,{format:"short"})):"30d"===r?t.push((0,k.cp)(d,{format:"day"})):t.push((0,k.cp)(d,{format:"month"})),a.push(Math.floor(s.revenue.thisMonth/e*Math.random())+1e5),n.push(Math.floor(s.orders.thisMonth/e*Math.random())+1),i.push(Math.floor(s.users.total/e*Math.random())+1)}o({labels:t,datasets:[{label:"درآمد (ریال)",data:a,backgroundColor:["rgba(34, 197, 94, 0.2)"],borderColor:["rgba(34, 197, 94, 1)"],borderWidth:2},{label:"سفارشات",data:n,backgroundColor:["rgba(59, 130, 246, 0.2)"],borderColor:["rgba(59, 130, 246, 1)"],borderWidth:2},{label:"کاربران فعال",data:i,backgroundColor:["rgba(168, 85, 247, 0.2)"],borderColor:["rgba(168, 85, 247, 1)"],borderWidth:2}]})},b=e=>"".concat(Math.floor((e||0)/10).toLocaleString("fa-IR")," تومان"),g=e=>e.toLocaleString("fa-IR"),v=e=>e>0?"text-green-600":"text-red-600";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"داشبورد متریک‌ها"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsxs)("select",{value:r,onChange:e=>l(e.target.value),className:"px-3 py-1 border border-admin-border rounded-admin text-sm focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"7d",children:"۷ روز گذشته"}),(0,a.jsx)("option",{value:"30d",children:"۳۰ روز گذشته"}),(0,a.jsx)("option",{value:"90d",children:"۹۰ روز گذشته"}),(0,a.jsx)("option",{value:"1y",children:"یک سال گذشته"})]}),(0,a.jsxs)("button",{onClick:i,className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 ml-1"}),"به‌روزرسانی"]}),(0,a.jsxs)("button",{onClick:()=>{y.ZP.success("گزارش در حال آماده‌سازی...")},className:"btn-admin-primary flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 ml-1"}),"صادرات"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-admin p-4 border border-green-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:"کل درآمد"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:b(s.revenue.total)}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[s.revenue.growth>0?(0,a.jsx)(C.Z,{className:"h-4 w-4 text-green-600"}):(0,a.jsx)(M.Z,{className:"h-4 w-4 text-red-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(v(s.revenue.growth)," mr-1"),children:[s.revenue.growth>0?"+":"",s.revenue.growth,"%"]}),(0,a.jsx)("span",{className:"text-xs text-green-600",children:"نسبت به ماه قبل"})]})]}),(0,a.jsx)(S.Z,{className:"h-8 w-8 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-admin p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"سفارشات این ماه"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:g(s.orders.thisMonth)}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["میانگین: ",b(s.orders.averageValue)]})})]}),(0,a.jsx)(A,{className:"h-8 w-8 text-blue-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-admin p-4 border border-purple-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"کاربران فعال"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:g(s.users.active)}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:["از ",g(s.users.total)," کل کاربران"]})})]}),(0,a.jsx)(p.Z,{className:"h-8 w-8 text-purple-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-admin p-4 border border-orange-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"موجودی کل"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:g(s.inventory.items)}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-orange-600",children:[s.inventory.lowStock," کم موجود"]})})]}),(0,a.jsx)(L,{className:"h-8 w-8 text-orange-600"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text",children:"روند درآمد"}),(0,a.jsx)(u.Z,{className:"h-5 w-5 text-admin-text-muted"})]}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-admin",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-500",children:"نمودار درآمد"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"در حال توسعه..."})]})})]}),(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text",children:"روند سفارشات"}),(0,a.jsx)(j.Z,{className:"h-5 w-5 text-admin-text-muted"})]}),(0,a.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-admin",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-500",children:"نمودار سفارشات"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"در حال توسعه..."})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text mb-4",children:"تفکیک کاربران"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text",children:"کل کاربران"}),(0,a.jsx)("span",{className:"font-medium text-admin-text",children:g(s.users.total)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-green-600",children:"کاربران فعال"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:g(s.users.active)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-red-600",children:"کاربران غیرفعال"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:g(s.users.inactive)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(s.users.active/s.users.total*100,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[Math.round(s.users.active/s.users.total*100),"% فعال"]})]})]}),(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text mb-4",children:"تفکیک درآمد"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text",children:"کل درآمد"}),(0,a.jsx)("span",{className:"font-medium text-admin-text",children:b(s.revenue.total)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-blue-600",children:"درآمد این ماه"}),(0,a.jsx)("span",{className:"font-medium text-blue-600",children:b(s.revenue.thisMonth)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-purple-600",children:"رشد"}),(0,a.jsxs)("span",{className:"font-medium ".concat(v(s.revenue.growth)),children:[s.revenue.growth>0?"+":"",s.revenue.growth,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(Math.min(s.revenue.thisMonth/s.revenue.total*100,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[Math.round(s.revenue.thisMonth/s.revenue.total*100),"% از کل درآمد"]})]})]}),(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text mb-4",children:"وضعیت موجودی"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text",children:"کل آیتم‌ها"}),(0,a.jsx)("span",{className:"font-medium text-admin-text",children:g(s.inventory.items)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-yellow-600",children:"موجودی کم"}),(0,a.jsx)("span",{className:"font-medium text-yellow-600",children:g(s.inventory.lowStock)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-red-600",children:"ناموجود"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:g(s.inventory.outOfStock)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat((s.inventory.items-s.inventory.outOfStock)/s.inventory.items*100,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[Math.round((s.inventory.items-s.inventory.outOfStock)/s.inventory.items*100),"% موجود"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white border border-admin-border rounded-admin p-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-admin-text mb-4",children:"شاخص‌های عملکرد"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-admin",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(s.users.active/s.users.total*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-green-800",children:"نرخ فعال‌سازی کاربران"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-admin",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:b(s.orders.averageValue)}),(0,a.jsx)("div",{className:"text-sm text-blue-800",children:"میانگین ارزش سفارش"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-admin",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round((s.inventory.items-s.inventory.outOfStock)/s.inventory.items*100),"%"]}),(0,a.jsx)("div",{className:"text-sm text-purple-800",children:"نرخ موجودی"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-admin",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[s.revenue.growth>0?"+":"",s.revenue.growth,"%"]}),(0,a.jsx)("div",{className:"text-sm text-orange-800",children:"رشد درآمد"})]})]})]})]})}var E=s(2369),P=s(8728),R=s(3247),T=s(1723);function q(e){let{tenantId:t}=e,[s,i]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[d,m]=(0,n.useState)("all"),[x,o]=(0,n.useState)(""),[h,u]=(0,n.useState)("7d"),p=[{id:"1",type:"user",action:"کاربر جدید ثبت‌نام کرد",description:'کاربر "احمد محمدی" در سیستم ثبت‌نام کرد',timestamp:new Date(Date.now()-18e5),user:"احمد محمدی",status:"success"},{id:"2",type:"order",action:"سفارش جدید ایجاد شد",description:"سفارش #12345 با مبلغ ۲۵۰,۰۰۰ تومان ایجاد شد",timestamp:new Date(Date.now()-72e5),user:"مریم احمدی",metadata:{orderId:"12345",amount:25e4},status:"success"},{id:"3",type:"payment",action:"پرداخت انجام شد",description:"پرداخت سفارش #12345 با موفقیت انجام شد",timestamp:new Date(Date.now()-108e5),user:"مریم احمدی",metadata:{orderId:"12345",amount:25e4},status:"success"},{id:"4",type:"inventory",action:"موجودی کم شد",description:'موجودی محصول "کباب کوبیده" به زیر حد مجاز رسید',timestamp:new Date(Date.now()-18e6),metadata:{productName:"کباب کوبیده",stock:5},status:"warning"},{id:"5",type:"system",action:"پشتیبان‌گیری انجام شد",description:"پشتیبان‌گیری روزانه با موفقیت انجام شد",timestamp:new Date(Date.now()-864e5),status:"success"},{id:"6",type:"admin",action:"تنظیمات تغییر کرد",description:"تنظیمات سیستم توسط ادمین تغییر کرد",timestamp:new Date(Date.now()-1728e5),user:"ادمین سیستم",status:"info"},{id:"7",type:"user",action:"رمز عبور تغییر کرد",description:'کاربر "علی رضایی" رمز عبور خود را تغییر داد',timestamp:new Date(Date.now()-2592e5),user:"علی رضایی",status:"info"},{id:"8",type:"order",action:"سفارش لغو شد",description:"سفارش #12340 توسط مشتری لغو شد",timestamp:new Date(Date.now()-3456e5),user:"سارا کریمی",metadata:{orderId:"12340"},status:"warning"}];(0,n.useEffect)(()=>{b()},[t,d,h]);let b=async()=>{l(!0);try{await new Promise(e=>setTimeout(e,1e3));let e=p;"all"!==d&&(e=e.filter(e=>e.type===d)),x&&(e=e.filter(e=>e.action.toLowerCase().includes(x.toLowerCase())||e.description.toLowerCase().includes(x.toLowerCase())||e.user&&e.user.toLowerCase().includes(x.toLowerCase())));let t=new Date,s={"24h":864e5,"7d":6048e5,"30d":2592e6,"90d":7776e6}[h];e=e.filter(e=>t.getTime()-e.timestamp.getTime()<=s),i(e)}catch(e){y.ZP.error("خطا در بارگذاری فعالیت‌ها")}finally{l(!1)}},g=(e,t)=>{let s={className:"h-4 w-4 ".concat(v(t))};switch(e){case"user":return(0,a.jsx)(E.Z,{...s});case"order":return(0,a.jsx)(A,{...s});case"payment":return(0,a.jsx)(S.Z,{...s});case"inventory":return(0,a.jsx)(L,{...s});case"system":return(0,a.jsx)(P.Z,{...s});default:return(0,a.jsx)(j.Z,{...s})}},v=e=>{switch(e){case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";case"info":return"text-blue-600";default:return"text-gray-600"}},N=e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat({success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[e]),children:{success:"موفق",warning:"هشدار",error:"خطا",info:"اطلاعات"}[e]}),f=e=>({user:"کاربر",order:"سفارش",payment:"پرداخت",inventory:"موجودی",system:"سیستم",admin:"ادمین"})[e]||e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"جدول زمانی فعالیت‌ها"}),(0,a.jsxs)("button",{onClick:b,className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 ml-1"}),"به‌روزرسانی"]})]}),(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(R.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-admin-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"جستجو در فعالیت‌ها...",value:x,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]})}),(0,a.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"همه انواع"}),(0,a.jsx)("option",{value:"user",children:"کاربر"}),(0,a.jsx)("option",{value:"order",children:"سفارش"}),(0,a.jsx)("option",{value:"payment",children:"پرداخت"}),(0,a.jsx)("option",{value:"inventory",children:"موجودی"}),(0,a.jsx)("option",{value:"system",children:"سیستم"}),(0,a.jsx)("option",{value:"admin",children:"ادمین"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"24h",children:"۲۴ ساعت گذشته"}),(0,a.jsx)("option",{value:"7d",children:"۷ روز گذشته"}),(0,a.jsx)("option",{value:"30d",children:"۳۰ روز گذشته"}),(0,a.jsx)("option",{value:"90d",children:"۹۰ روز گذشته"})]})]})}),(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin",children:r?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-admin-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-admin-text",children:"در حال بارگذاری فعالیت‌ها..."})]}):0===s.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(j.Z,{className:"h-12 w-12 text-admin-text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-2",children:"هیچ فعالیتی یافت نشد"}),(0,a.jsx)("p",{className:"text-admin-text-light",children:"در بازه زمانی انتخاب شده فعالیتی وجود ندارد"})]}):(0,a.jsx)("div",{className:"divide-y divide-admin-border",children:s.map((e,t)=>(0,a.jsx)("div",{className:"p-6 hover:bg-admin-bg transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4 space-x-reverse",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:g(e.type,e.status)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-admin-text",children:e.action}),N(e.status),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:f(e.type)})]}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-admin-text-muted",children:[(0,a.jsx)(T.Z,{className:"h-3 w-3 ml-1"}),(0,k.cp)(e.timestamp,{format:"relative"})]})]}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light mb-2",children:e.description}),e.user&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-admin-text-muted",children:[(0,a.jsx)(E.Z,{className:"h-3 w-3 ml-1"}),e.user]}),e.metadata&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:Object.entries(e.metadata).map(e=>{let[t,s]=e;return(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:[t,": ","number"==typeof s?s.toLocaleString("fa-IR"):s]},t)})})]})]})},e.id))})}),s.length>0&&(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-admin-text-muted",children:[(0,a.jsxs)("span",{children:["نمایش ",s.length," فعالیت از ",p.length," کل فعالیت‌ها"]}),(0,a.jsxs)("span",{children:["آخرین به‌روزرسانی: ",(0,k.cp)(new Date,{format:"short"})]})]})})]})}var O=s(8906);let z=(0,m.Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var H=s(2208);let V=(0,m.Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),_=(0,m.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),W=(0,m.Z)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),B=(0,m.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var U=s(7782);function Y(e){let{tenantId:t}=e,[s,i]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0),[d,m]=(0,n.useState)(""),[x,h]=(0,n.useState)("all"),[u,j]=(0,n.useState)("all"),[b,g]=(0,n.useState)([]),[v,N]=(0,n.useState)(!1),f=[{id:"1",name:"احمد محمدی",email:"ahmad@example.com",phone:"09123456789",role:"admin",status:"active",lastLogin:new Date(Date.now()-18e5),createdAt:new Date(Date.now()-2592e6),permissions:["all"]},{id:"2",name:"مریم احمدی",email:"maryam@example.com",phone:"09123456788",role:"manager",status:"active",lastLogin:new Date(Date.now()-72e5),createdAt:new Date(Date.now()-1296e6),permissions:["orders","customers","inventory"]},{id:"3",name:"علی رضایی",email:"ali@example.com",phone:"09123456787",role:"staff",status:"active",lastLogin:new Date(Date.now()-864e5),createdAt:new Date(Date.now()-6048e5),permissions:["orders","customers"]},{id:"4",name:"سارا کریمی",email:"sara@example.com",phone:"09123456786",role:"viewer",status:"pending",lastLogin:void 0,createdAt:new Date(Date.now()-2592e5),permissions:["view"]},{id:"5",name:"حسن نوری",email:"hasan@example.com",phone:"09123456785",role:"staff",status:"inactive",lastLogin:new Date(Date.now()-6048e5),createdAt:new Date(Date.now()-3888e6),permissions:["orders"]}];(0,n.useEffect)(()=>{w()},[t,d,x,u]);let w=async()=>{l(!0);try{await new Promise(e=>setTimeout(e,1e3));let e=f;d&&(e=e.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.email.toLowerCase().includes(d.toLowerCase())||e.phone&&e.phone.includes(d))),"all"!==x&&(e=e.filter(e=>e.status===x)),"all"!==u&&(e=e.filter(e=>e.role===u)),i(e)}catch(e){y.ZP.error("خطا در بارگذاری کاربران")}finally{l(!1)}},Z=e=>{let t={admin:{color:"bg-red-100 text-red-800",label:"ادمین",icon:O.Z},manager:{color:"bg-blue-100 text-blue-800",label:"مدیر",icon:z},staff:{color:"bg-green-100 text-green-800",label:"کارمند",icon:p.Z},viewer:{color:"bg-gray-100 text-gray-800",label:"مشاهده‌گر",icon:H.Z}}[e],s=t.icon;return(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(t.color),children:[(0,a.jsx)(s,{className:"h-3 w-3 ml-1"}),t.label]})},C=e=>{let t={active:{color:"bg-green-100 text-green-800",label:"فعال",icon:z},inactive:{color:"bg-red-100 text-red-800",label:"غیرفعال",icon:V},pending:{color:"bg-yellow-100 text-yellow-800",label:"در انتظار",icon:Clock}}[e],s=t.icon;return(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(t.color),children:[(0,a.jsx)(s,{className:"h-3 w-3 ml-1"}),t.label]})},M=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},S=e=>{if(0===b.length){y.ZP.error("لطفاً کاربران را انتخاب کنید");return}y.ZP.success("".concat(e," برای ").concat(b.length," کاربر اعمال شد")),g([])},A=(e,t)=>{y.ZP.success("".concat(t," برای کاربر اعمال شد"))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"مدیریت کاربران"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:"مدیریت کاربران و دسترسی‌های مستأجر"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsxs)("button",{onClick:()=>{y.ZP.success("گزارش کاربران در حال آماده‌سازی...")},className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 ml-1"}),"صادرات"]}),(0,a.jsxs)("button",{onClick:()=>N(!0),className:"btn-admin-primary flex items-center",children:[(0,a.jsx)(_,{className:"h-4 w-4 ml-1"}),"افزودن کاربر"]})]})]}),(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin p-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(R.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-admin-text-muted"}),(0,a.jsx)("input",{type:"text",placeholder:"جستجو در نام، ایمیل یا شماره تلفن...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]})}),(0,a.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"همه وضعیت‌ها"}),(0,a.jsx)("option",{value:"active",children:"فعال"}),(0,a.jsx)("option",{value:"inactive",children:"غیرفعال"}),(0,a.jsx)("option",{value:"pending",children:"در انتظار"})]}),(0,a.jsxs)("select",{value:u,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"همه نقش‌ها"}),(0,a.jsx)("option",{value:"admin",children:"ادمین"}),(0,a.jsx)("option",{value:"manager",children:"مدیر"}),(0,a.jsx)("option",{value:"staff",children:"کارمند"}),(0,a.jsx)("option",{value:"viewer",children:"مشاهده‌گر"})]}),(0,a.jsxs)("button",{onClick:w,className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 ml-1"}),"به‌روزرسانی"]})]})}),b.length>0&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-admin p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:[b.length," کاربر انتخاب شده"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("button",{onClick:()=>S("فعال‌سازی"),className:"btn-admin-secondary text-sm",children:"فعال‌سازی"}),(0,a.jsx)("button",{onClick:()=>S("غیرفعال‌سازی"),className:"btn-admin-secondary text-sm",children:"غیرفعال‌سازی"}),(0,a.jsx)("button",{onClick:()=>S("ارسال ایمیل"),className:"btn-admin-secondary text-sm",children:"ارسال ایمیل"}),(0,a.jsx)("button",{onClick:()=>S("حذف"),className:"btn-admin-danger text-sm",children:"حذف"})]})]})}),(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin overflow-hidden",children:r?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-admin-primary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-admin-text",children:"در حال بارگذاری کاربران..."})]}):0===s.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(p.Z,{className:"h-12 w-12 text-admin-text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-2",children:"هیچ کاربری یافت نشد"}),(0,a.jsx)("p",{className:"text-admin-text-light mb-4",children:"با فیلترهای انتخاب شده کاربری وجود ندارد"}),(0,a.jsx)("button",{onClick:()=>N(!0),className:"btn-admin-primary",children:"افزودن اولین کاربر"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-admin-border",children:[(0,a.jsx)("thead",{className:"bg-admin-bg",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:(0,a.jsx)("input",{type:"checkbox",checked:b.length===s.length&&s.length>0,onChange:()=>{b.length===s.length?g([]):g(s.map(e=>e.id))},className:"h-4 w-4 text-admin-primary focus:ring-admin-primary border-admin-border rounded"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"کاربر"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"نقش"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"وضعیت"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"آخرین ورود"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"تاریخ عضویت"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"عملیات"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-admin-border",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-admin-bg transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",checked:b.includes(e.id),onChange:()=>M(e.id),className:"h-4 w-4 text-admin-primary focus:ring-admin-primary border-admin-border rounded"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-admin-primary flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"h-5 w-5 text-white"})})}),(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-admin-text",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-admin-text-light",children:e.email}),e.phone&&(0,a.jsx)("div",{className:"text-xs text-admin-text-muted",children:e.phone})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Z(e.role)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:C(e.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-admin-text-muted",children:e.lastLogin?(0,k.cp)(e.lastLogin,{format:"relative"}):"هرگز"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-admin-text-muted",children:(0,k.cp)(e.createdAt,{format:"short"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("button",{onClick:()=>A(e.id,"ویرایش"),className:"text-admin-primary hover:text-admin-primary-dark",title:"ویرایش",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>A(e.id,"بازنشانی رمز عبور"),className:"text-admin-warning hover:text-admin-warning-dark",title:"بازنشانی رمز عبور",children:(0,a.jsx)(W,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>A(e.id,"حذف"),className:"text-admin-danger hover:text-admin-danger-dark",title:"حذف",children:(0,a.jsx)(B,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{className:"text-admin-text-muted hover:text-admin-text",children:(0,a.jsx)(U.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"absolute left-0 bottom-full mb-2 bg-white border border-admin-border rounded-admin shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-150 z-10 min-w-[160px]",children:[(0,a.jsx)("button",{onClick:()=>A(e.id,"فعال‌سازی"),className:"block w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg",children:"فعال‌سازی"}),(0,a.jsx)("button",{onClick:()=>A(e.id,"غیرفعال‌سازی"),className:"block w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg",children:"غیرفعال‌سازی"}),(0,a.jsx)("button",{onClick:()=>A(e.id,"ارسال ایمیل"),className:"block w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg",children:"ارسال ایمیل"})]})]})]})})]},e.id))})]})})}),s.length>0&&(0,a.jsx)("div",{className:"bg-white border border-admin-border rounded-admin p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-admin-text-muted",children:[(0,a.jsxs)("span",{children:["نمایش ",s.length," کاربر از ",f.length," کل کاربران"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,a.jsxs)("span",{children:["فعال: ",f.filter(e=>"active"===e.status).length]}),(0,a.jsxs)("span",{children:["غیرفعال: ",f.filter(e=>"inactive"===e.status).length]}),(0,a.jsxs)("span",{children:["در انتظار: ",f.filter(e=>"pending"===e.status).length]})]})]})})]})}var F=(0,Z.c2)(function(){var e,t;let s=(0,i.useParams)(),m=(0,i.useRouter)(),Z=s.id,[C,M]=(0,n.useState)(null),[D,S]=(0,n.useState)(null),[A,L]=(0,n.useState)(!0),[E,P]=(0,n.useState)(null),[R,T]=(0,n.useState)("overview"),[O,z]=(0,n.useState)(!1),H=async()=>{try{L(!0),P(null);let[e,t]=await Promise.all([(0,w.Op)(Z),(0,w.tN)(Z)]);M(e),S(t)}catch(t){let e=t instanceof Error?t.message:"خطا در بارگذاری داده‌ها";P(e),y.Am.error(e)}finally{L(!1)}};(0,n.useEffect)(()=>{Z&&H()},[Z]);let V=async()=>{if(C){z(!0);try{C.isActive?(await (0,w.Yn)(C.id),M({...C,isActive:!1}),y.Am.success("مستأجر غیرفعال شد")):(await (0,w.VY)(C.id),M({...C,isActive:!0}),y.Am.success("مستأجر فعال شد"))}catch(t){let e=t instanceof Error?t.message:"خطا در تغییر وضعیت";y.Am.error(e)}finally{z(!1)}}};return E&&!A?(0,a.jsx)("div",{className:"min-h-screen bg-admin-bg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.Z,{className:"h-16 w-16 text-admin-danger mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-admin-text mb-2",children:"خطا در بارگذاری داده‌ها"}),(0,a.jsx)("p",{className:"text-admin-text-light mb-4",children:E}),(0,a.jsxs)("button",{onClick:H,className:"btn-admin-primary flex items-center mx-auto",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 ml-2"}),"تلاش مجدد"]})]})}):A||!C?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-admin-bg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-admin-primary border-t-transparent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-admin-text",children:"در حال بارگذاری اطلاعات مستأجر..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-admin-bg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("button",{onClick:()=>m.back(),className:"btn-admin-secondary flex items-center mr-4",children:[(0,a.jsx)(x,{className:"h-4 w-4 ml-2"}),"بازگشت"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-admin-text mb-2",children:C.displayName||C.name}),(0,a.jsxs)("p",{className:"text-admin-text-light",children:[C.subdomain,".servaan.com"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse",children:[(0,a.jsxs)("button",{onClick:()=>{H(),y.Am.success("داده‌ها به‌روزرسانی شد")},className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 ml-2"}),"به‌روزرسانی"]}),(0,a.jsxs)("button",{onClick:()=>m.push("/admin/tenants/".concat(Z,"/edit")),className:"btn-admin-primary flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 ml-2"}),"ویرایش"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[C.isActive?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(r.Z,{className:"h-3 w-3 mr-1"}),"فعال"]}):(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(l.Z,{className:"h-3 w-3 mr-1"}),"غیرفعال"]}),(e=>{let t={STARTER:{color:"bg-blue-100 text-blue-800",label:"استارتر"},BUSINESS:{color:"bg-purple-100 text-purple-800",label:"بیزینس"},ENTERPRISE:{color:"bg-yellow-100 text-yellow-800",label:"انترپرایز"}},s=t[e]||t.STARTER;return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:s.label})})(C.plan),(0,a.jsxs)("span",{className:"text-sm text-admin-text-muted",children:["ایجاد شده در ",(0,k.cp)(C.createdAt,{format:"long"})]}),(0,a.jsx)("button",{onClick:V,disabled:O,className:"ml-4 btn-admin-secondary ".concat(C.isActive?"text-admin-danger":"text-admin-success"),children:O?"...":C.isActive?"غیرفعال‌سازی":"فعال‌سازی"})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8 space-x-reverse border-b border-admin-border",children:[{id:"overview",label:"نمای کلی",icon:h.Z},{id:"metrics",label:"متریک‌ها",icon:u.Z},{id:"users",label:"کاربران",icon:p.Z},{id:"activity",label:"فعالیت‌ها",icon:j.Z}].map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>T(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(R===e.id?"border-admin-primary text-admin-primary":"border-transparent text-admin-text-muted hover:text-admin-text hover:border-admin-border"),children:[(0,a.jsx)(t,{className:"h-4 w-4 ml-2"}),e.label]},e.id)})})}),(0,a.jsxs)("div",{className:"bg-white rounded-admin border border-admin-border p-6",children:["overview"===R&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text mb-4",children:"اطلاعات پایه"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"نام کسب و کار"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.name})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"زیردامنه"}),(0,a.jsxs)("p",{className:"text-sm text-admin-text-light",children:[C.subdomain,".servaan.com"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"شهر"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.city||"نامشخص"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"نوع کسب و کار"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.businessType||"نامشخص"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"نام مالک"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.ownerName})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"ایمیل مالک"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.ownerEmail})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"تلفن مالک"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:C.ownerPhone||"نامشخص"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5 text-admin-text-muted ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-admin-text",children:"آخرین فعالیت"}),(0,a.jsx)("p",{className:"text-sm text-admin-text-light",children:(null===(e=C.usage)||void 0===e?void 0:e.lastActivity)?(0,k.cp)(C.usage.lastActivity,{format:"relative"}):"نامشخص"})]})]})]})]})]}),C.features&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text mb-4",children:"ویژگی‌های فعال"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(C.features).map(e=>{let[t,s]=e;return s?(0,a.jsxs)("div",{className:"flex items-center p-3 bg-green-50 rounded-admin",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 text-green-600 ml-2"}),(0,a.jsx)("span",{className:"text-sm text-green-800",children:{hasInventoryManagement:"مدیریت موجودی",hasCustomerManagement:"مدیریت مشتریان",hasAccountingSystem:"سیستم حسابداری",hasReporting:"گزارش‌گیری",hasNotifications:"اعلان‌ها",hasAdvancedReporting:"گزارش‌گیری پیشرفته",hasApiAccess:"دسترسی API",hasCustomBranding:"برندینگ سفارشی",hasMultiLocation:"چند شعبه",hasAdvancedCRM:"CRM پیشرفته",hasWhatsappIntegration:"ادغام واتساپ",hasInstagramIntegration:"ادغام اینستاگرام",hasAnalyticsBI:"تحلیل و هوش تجاری"}[t]||t})]},t):null})})]}),C.usage&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text mb-4",children:"آمار استفاده"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-blue-50 rounded-admin",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-8 w-8 text-blue-600 ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"فضای ذخیره"}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-900",children:C.usage.storageUsed})]})]})}),(0,a.jsx)("div",{className:"p-4 bg-purple-50 rounded-admin",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-8 w-8 text-purple-600 ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"فراخوانی API"}),(0,a.jsx)("p",{className:"text-lg font-bold text-purple-900",children:C.usage.apiCallsLastMonth.toLocaleString("fa-IR")}),(0,a.jsx)("p",{className:"text-xs text-purple-600",children:"ماه گذشته"})]})]})}),(0,a.jsx)("div",{className:"p-4 bg-green-50 rounded-admin",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-8 w-8 text-green-600 ml-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:"کاربران فعال"}),(0,a.jsx)("p",{className:"text-lg font-bold text-green-900",children:(null==D?void 0:null===(t=D.users)||void 0===t?void 0:t.total)||0})]})]})})]})]})]}),"metrics"===R&&D&&(0,a.jsx)(I,{tenantId:Z,metrics:D,onRefresh:H}),"users"===R&&(0,a.jsx)(Y,{tenantId:Z}),"activity"===R&&(0,a.jsx)(q,{tenantId:Z})]})]})})})}},function(e){e.O(0,[301,64,975,902,443,971,117,744],function(){return e(e.s=4154)}),_N_E=e.O()}]);