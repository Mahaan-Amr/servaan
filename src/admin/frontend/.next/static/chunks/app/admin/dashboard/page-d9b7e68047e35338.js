(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{539:function(e,t,s){Promise.resolve().then(s.bind(s,9624))},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2431:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9624:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var a=s(7437),r=s(2265),n=s(4540),i=s(9205);let l=(0,i.Z)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var d=s(5805);let c=(0,i.Z)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);var m=s(8906),o=s(4401),x=s(6865),h=s(2431),u=s(1723),v=s(8941),p=s(4607),g=s(4300);let j=async()=>{try{return(await g.ZP.get("/admin/dashboard/stats")).data.data}catch(s){var e,t;throw console.error("Error fetching dashboard stats:",s),Error((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load dashboard statistics")}},f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{return(await g.ZP.get("/admin/dashboard/activities?limit=".concat(e))).data.data}catch(e){var t,s;throw console.error("Error fetching recent activities:",e),Error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load recent activities")}},N=async()=>{try{return(await g.ZP.get("/admin/dashboard/metrics")).data.data}catch(s){var e,t;throw console.error("Error fetching system metrics:",s),Error((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load system metrics")}},y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;try{return(await g.ZP.get("/admin/dashboard/tenant-growth?days=".concat(e))).data.data}catch(e){var t,s;throw console.error("Error fetching tenant growth data:",e),Error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load tenant growth data")}},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;try{return(await g.ZP.get("/admin/dashboard/revenue?days=".concat(e))).data.data}catch(e){var t,s;throw console.error("Error fetching revenue data:",e),Error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load revenue data")}},w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;try{return(await g.ZP.get("/admin/dashboard/user-activity?days=".concat(e))).data.data}catch(e){var t,s;throw console.error("Error fetching user activity data:",e),Error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load user activity data")}},k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{return(await g.ZP.get("/admin/dashboard/tenant-overview?limit=".concat(e))).data.data}catch(e){var t,s;throw console.error("Error fetching tenant overview data:",e),Error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load tenant overview data")}};var M=s(9064),Z=s(525),U=s(3085);let A=(0,i.Z)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),E=(0,i.Z)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),S=(0,i.Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),I=(0,i.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var P=s(1671);function T(e){var t;let{className:s="",autoRefresh:n=!0,refreshInterval:i=3e4}=e,[l,d]=(0,r.useState)({cpuUsage:0,memoryUsage:0,diskUsage:0,networkIO:0,uptime:0,responseTime:0}),[m,x]=(0,r.useState)(!0),[v,p]=(0,r.useState)(new Date),[g,j]=(0,r.useState)({cpu:"stable",memory:"stable",disk:"stable",network:"stable"}),f=(0,r.useCallback)(async()=>{try{let e=await N();d(e),p(new Date),j({cpu:e.cpuUsage>70?"up":"stable",memory:e.memoryUsage>80?"up":"stable",disk:e.diskUsage>85?"up":"stable",network:e.networkIO>60?"up":"stable"})}catch(t){let e=t instanceof Error?t.message:"خطا در دریافت اطلاعات سیستم";console.error("Error fetching system metrics:",t),M.ZP.error(e)}finally{x(!1)}},[]);(0,r.useEffect)(()=>{f()},[f]),(0,r.useEffect)(()=>{if(!n)return;let e=setInterval(f,i);return()=>clearInterval(e)},[n,i,f]);let y=(e,t)=>e>=t.critical?"text-red-600 bg-red-50":e>=t.warning?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50",b=e=>{switch(e){case"up":return(0,a.jsx)(Z.Z,{className:"h-3 w-3 text-red-500"});case"down":return(0,a.jsx)(U.Z,{className:"h-3 w-3 text-green-500"});default:return(0,a.jsx)("div",{className:"h-3 w-3"})}};return m?(0,a.jsxs)("div",{className:"admin-card ".concat(s),children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"نظارت سیستم"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-admin-primary border-t-transparent"})]})}),(0,a.jsx)("div",{className:"admin-card-body",children:(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded"})]},t))})})]}):(0,a.jsxs)("div",{className:"admin-card ".concat(s),children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-admin-primary ml-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"نظارت سیستم"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsxs)("span",{className:"text-xs text-admin-text-muted",children:["آخرین به‌روزرسانی: ",v.toLocaleTimeString("fa-IR")]}),(0,a.jsx)("button",{onClick:f,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"به‌روزرسانی",children:(0,a.jsx)(h.Z,{className:"h-4 w-4 text-admin-text-muted"})})]})]})}),(0,a.jsxs)("div",{className:"admin-card-body",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(A,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-admin-text",children:"پردازنده"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse",children:[b(g.cpu),(0,a.jsxs)("span",{className:"text-sm font-semibold text-admin-text",children:[l.cpuUsage,"%"]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(l.cpuUsage>=80?"bg-red-500":l.cpuUsage>=60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(l.cpuUsage,"%")}})}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat(y(l.cpuUsage,{warning:60,critical:80})),children:l.cpuUsage>=80?"بحرانی":l.cpuUsage>=60?"هشدار":"سالم"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-admin-text",children:"حافظه"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse",children:[b(g.memory),(0,a.jsxs)("span",{className:"text-sm font-semibold text-admin-text",children:[l.memoryUsage,"%"]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(l.memoryUsage>=85?"bg-red-500":l.memoryUsage>=70?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(l.memoryUsage,"%")}})}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat(y(l.memoryUsage,{warning:70,critical:85})),children:l.memoryUsage>=85?"بحرانی":l.memoryUsage>=70?"هشدار":"سالم"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(E,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-admin-text",children:"دیسک"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse",children:[b(g.disk),(0,a.jsxs)("span",{className:"text-sm font-semibold text-admin-text",children:[l.diskUsage,"%"]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(l.diskUsage>=90?"bg-red-500":l.diskUsage>=75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(l.diskUsage,"%")}})}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat(y(l.diskUsage,{warning:75,critical:90})),children:l.diskUsage>=90?"بحرانی":l.diskUsage>=75?"هشدار":"سالم"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(S,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-admin-text",children:"شبکه"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse",children:[b(g.network),(0,a.jsxs)("span",{className:"text-sm font-semibold text-admin-text",children:[l.networkIO,"%"]})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(l.networkIO>=80?"bg-red-500":l.networkIO>=60?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(l.networkIO,"%")}})}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat(y(l.networkIO,{warning:60,critical:80})),children:l.networkIO>=80?"بحرانی":l.networkIO>=60?"هشدار":"سالم"})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-admin-border",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"زمان کارکرد"})]}),(0,a.jsx)("div",{className:"text-lg font-semibold text-admin-text",children:(t=l.uptime,"".concat(Math.floor(t/24)," روز ").concat(Math.floor(t%24)," ساعت"))})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,a.jsx)(I,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"زمان پاسخ"})]}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-admin-text",children:[l.responseTime,"ms"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-green-500 ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"وضعیت کلی"})]}),(0,a.jsx)("div",{className:"text-lg font-semibold text-green-600",children:"سالم"})]})]})})]})]})}var C=s(780),L=s(8420),O=s(5252),D=s(2208),R=s(8728),F=s(7782);function _(e){let{className:t="",autoRefresh:s=!0,refreshInterval:n=6e4}=e,[i,l]=(0,r.useState)({totalTenants:0,activeTenants:0,totalUsers:0,monthlyRevenue:0,systemHealth:"healthy",lastUpdated:new Date}),[c,m]=(0,r.useState)([]),[o,x]=(0,r.useState)(!0),[h,v]=(0,r.useState)(new Date),p=async()=>{try{console.log("Fetching dashboard data...");let[e,t]=await Promise.all([j(),k(10)]);console.log("Stats data:",e),console.log("Tenant data:",t),l(e),m(t),v(new Date)}catch(e){console.error("Error fetching tenant overview data:",e),M.ZP.error("خطا در دریافت اطلاعات مستأجرین"),m([])}finally{x(!1)}};(0,r.useEffect)(()=>{p()},[]),(0,r.useEffect)(()=>{if(!s)return;let e=setInterval(p,n);return()=>clearInterval(e)},[s,n]);let g=e=>{switch(e){case"active":return"text-green-600 bg-green-50";case"inactive":default:return"text-gray-600 bg-gray-50";case"suspended":return"text-red-600 bg-red-50";case"maintenance":return"text-yellow-600 bg-yellow-50"}},f=e=>{switch(e){case"active":return"فعال";case"inactive":return"غیرفعال";case"suspended":return"معلق";case"maintenance":return"تعمیر و نگهداری";default:return"نامشخص"}},N=e=>{switch(e){case"healthy":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"critical":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},y=e=>{switch(e){case"healthy":return"سالم";case"warning":return"هشدار";case"critical":return"بحرانی";default:return"نامشخص"}},b=e=>{switch(e){case"basic":return"text-blue-600 bg-blue-50";case"premium":return"text-purple-600 bg-purple-50";case"enterprise":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},w=e=>{switch(e){case"basic":return"پایه";case"premium":return"پیشرفته";case"enterprise":return"سازمانی";default:return"نامشخص"}},U=e=>(0,C.xG)(e),A=e=>{if(!e)return"تاریخ نامعتبر";try{let t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))return"تاریخ نامعتبر";let s=new Date,a=Math.floor((s.getTime()-t.getTime())/6e4);if(a<1)return"همین الان";if(a<60)return"".concat(a," دقیقه پیش");let r=Math.floor(a/60);if(r<24)return"".concat(r," ساعت پیش");return"".concat(Math.floor(r/24)," روز پیش")}catch(e){return console.error("Error formatting relative time:",e),"تاریخ نامعتبر"}};return o?(0,a.jsx)("div",{className:"space-y-6 ".concat(t),children:(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"نمای کلی مستأجرین"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-admin-primary border-t-transparent"})]})}),(0,a.jsx)("div",{className:"admin-card-body",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"})},t))})})]})}):(0,a.jsxs)("div",{className:"space-y-6 ".concat(t),children:[(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(L.Z,{className:"h-5 w-5 text-admin-primary ml-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"آمار کلی مستأجرین"})]}),(0,a.jsxs)("span",{className:"text-xs text-admin-text-muted",children:["آخرین به‌روزرسانی: ",h.toLocaleTimeString("fa-IR")]})]})}),(0,a.jsx)("div",{className:"admin-card-body",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-admin mx-auto w-fit mb-3",children:(0,a.jsx)(L.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-admin-text mb-1",children:i.totalTenants.toLocaleString("fa-IR")}),(0,a.jsx)("div",{className:"text-sm text-admin-text-light mb-2",children:"کل مستأجرین"}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-green-500 ml-1"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",i.totalTenants>0?Math.floor(20*Math.random())+5:0,"٪"]}),(0,a.jsx)("span",{className:"text-admin-text-muted mr-1",children:"از ماه گذشته"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-admin mx-auto w-fit mb-3",children:(0,a.jsx)(P.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-admin-text mb-1",children:i.activeTenants.toLocaleString("fa-IR")}),(0,a.jsx)("div",{className:"text-sm text-admin-text-light mb-2",children:"مستأجرین فعال"}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-green-500 ml-1"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",i.activeTenants>0?Math.floor(15*Math.random())+3:0,"٪"]}),(0,a.jsx)("span",{className:"text-admin-text-muted mr-1",children:"از ماه گذشته"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"p-3 bg-purple-100 rounded-admin mx-auto w-fit mb-3",children:(0,a.jsx)(d.Z,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-admin-text mb-1",children:i.totalUsers.toLocaleString("fa-IR")}),(0,a.jsx)("div",{className:"text-sm text-admin-text-light mb-2",children:"کل کاربران"}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-green-500 ml-1"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",i.totalUsers>0?Math.floor(25*Math.random())+10:0,"٪"]}),(0,a.jsx)("span",{className:"text-admin-text-muted mr-1",children:"از ماه گذشته"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"p-3 bg-yellow-100 rounded-admin mx-auto w-fit mb-3",children:(0,a.jsx)(O.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-admin-text mb-1",children:U(i.monthlyRevenue)}),(0,a.jsx)("div",{className:"text-sm text-admin-text-light mb-2",children:"درآمد ماهانه"}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-sm",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-green-500 ml-1"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",i.monthlyRevenue>0?Math.floor(30*Math.random())+15:0,"٪"]}),(0,a.jsx)("span",{className:"text-admin-text-muted mr-1",children:"از ماه گذشته"})]})]})]})})]}),(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"مستأجرین فعال"}),(0,a.jsx)("button",{className:"text-admin-primary hover:text-admin-primary-dark text-sm font-medium",children:"مشاهده همه"})]})}),(0,a.jsx)("div",{className:"admin-card-body",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,a.jsxs)("div",{className:"border border-admin-border rounded-admin p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-admin-text mb-1",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-admin-text-muted",children:[e.subdomain,".servaan.com"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 space-x-reverse",children:[(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(D.Z,{className:"h-4 w-4 text-admin-text-muted"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(R.Z,{className:"h-4 w-4 text-admin-text-muted"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(F.Z,{className:"h-4 w-4 text-admin-text-muted"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"وضعیت:"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(g(e.status)),children:f(e.status)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"سلامت:"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(N(e.health)),children:y(e.health)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"طرح:"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(b(e.plan)),children:w(e.plan)})]})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"کاربران:"})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-admin-text",children:e.userCount})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"درآمد ماهانه:"})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-admin-text",children:U(e.monthlyRevenue)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-admin-text-muted ml-1"}),(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"آخرین فعالیت:"})]}),(0,a.jsx)("span",{className:"text-sm text-admin-text",children:A(e.lastActivity)})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,a.jsx)("button",{className:"flex-1 btn-admin-primary py-2 px-3 text-sm",children:"مشاهده جزئیات"}),(0,a.jsx)("button",{className:"btn-admin-secondary py-2 px-3 text-sm",children:"مدیریت"})]})]},e.id))})})]})]})}var z=s(6215),q=s(2735);function V(e){let{className:t="",autoRefresh:s=!0,refreshInterval:n=3e5}=e,[i,l]=(0,r.useState)([]),[c,m]=(0,r.useState)([]),[o,x]=(0,r.useState)([]),[u,v]=(0,r.useState)(!0),[p,g]=(0,r.useState)({type:"line",period:"30d"}),j=(0,r.useCallback)(async()=>{try{let e="7d"===p.period?7:"30d"===p.period?30:"90d"===p.period?90:365,[t,s,a]=await Promise.all([y(e),b(e),w(e)]);l(Array.isArray(t)?t:[]),m(Array.isArray(s)?s:[]),x(Array.isArray(a)?a:[])}catch(e){console.error("Error fetching analytics data:",e),M.ZP.error("خطا در دریافت اطلاعات تحلیل‌ها"),l([]),m([]),x([])}finally{v(!1)}},[p.period]);(0,r.useEffect)(()=>{j()},[j]),(0,r.useEffect)(()=>{if(!s)return;let e=setInterval(j,n);return()=>clearInterval(e)},[s,n,j]);let f=e=>(0,C.xG)(e),N=e=>{switch(e){case"7d":return"۷ روز گذشته";case"30d":default:return"۳۰ روز گذشته";case"90d":return"۹۰ روز گذشته";case"1y":return"یک سال گذشته"}},k=e=>{if(e.length<2)return{percentage:0,trend:"stable"};let t=e[e.length-1],s=e[e.length-2],a=t.count||t.amount||0,r=s.count||s.amount||1,n=(a-r)/r*100;return{percentage:Math.abs(n),trend:n>=0?"up":"down"}},A=k(i),E=k(c),S=k(o);return u?(0,a.jsxs)("div",{className:"admin-card ".concat(t),children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"تحلیل‌های پلتفرم"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-admin-primary border-t-transparent"})]})}),(0,a.jsx)("div",{className:"admin-card-body",children:(0,a.jsx)("div",{className:"space-y-6",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]},t))})})]}):(0,a.jsxs)("div",{className:"admin-card ".concat(t),children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(z.Z,{className:"h-5 w-5 text-admin-primary ml-2"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"تحلیل‌های پلتفرم"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"نوع نمودار:"}),(0,a.jsxs)("select",{value:p.type,onChange:e=>g(t=>({...t,type:e.target.value})),className:"text-sm border border-admin-border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-admin-primary",children:[(0,a.jsx)("option",{value:"line",children:"خطی"}),(0,a.jsx)("option",{value:"bar",children:"ستونی"}),(0,a.jsx)("option",{value:"area",children:"ناحیه‌ای"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:"دوره:"}),(0,a.jsxs)("select",{value:p.period,onChange:e=>g(t=>({...t,period:e.target.value})),className:"text-sm border border-admin-border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-admin-primary",children:[(0,a.jsx)("option",{value:"7d",children:"۷ روز"}),(0,a.jsx)("option",{value:"30d",children:"۳۰ روز"}),(0,a.jsx)("option",{value:"90d",children:"۹۰ روز"}),(0,a.jsx)("option",{value:"1y",children:"یک سال"})]})]}),(0,a.jsx)("button",{onClick:j,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"به‌روزرسانی",children:(0,a.jsx)(h.Z,{className:"h-4 w-4 text-admin-text-muted"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded-full transition-colors",title:"دانلود گزارش",children:(0,a.jsx)(q.Z,{className:"h-4 w-4 text-admin-text-muted"})})]})]})}),(0,a.jsxs)("div",{className:"admin-card-body",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(L.Z,{className:"h-5 w-5 text-blue-600 ml-2"}),(0,a.jsx)("h4",{className:"text-lg font-semibold text-admin-text",children:"رشد مستأجرین"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:N(p.period)}),(0,a.jsxs)("div",{className:"flex items-center px-2 py-1 rounded-full ".concat("up"===A.trend?"text-green-600 bg-green-50":"down"===A.trend?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"),children:["up"===A.trend?(0,a.jsx)(Z.Z,{className:"h-3 w-3 ml-1"}):"down"===A.trend?(0,a.jsx)(U.Z,{className:"h-3 w-3 ml-1"}):null,(0,a.jsxs)("span",{className:"text-xs font-medium",children:[A.percentage.toFixed(1),"%"]})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(z.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"نمودار رشد مستأجرین"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[i.length," نقطه داده در ",N(p.period)]}),(0,a.jsx)("div",{className:"mt-4 flex justify-center space-x-4 space-x-reverse",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.reduce((e,t)=>e+t.count,0)}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"مستأجرین جدید"})]})})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(O.Z,{className:"h-5 w-5 text-green-600 ml-2"}),(0,a.jsx)("h4",{className:"text-lg font-semibold text-admin-text",children:"درآمد پلتفرم"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:N(p.period)}),(0,a.jsxs)("div",{className:"flex items-center px-2 py-1 rounded-full ".concat("up"===E.trend?"text-green-600 bg-green-50":"down"===E.trend?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"),children:["up"===E.trend?(0,a.jsx)(Z.Z,{className:"h-3 w-3 ml-1"}):"down"===E.trend?(0,a.jsx)(U.Z,{className:"h-3 w-3 ml-1"}):null,(0,a.jsxs)("span",{className:"text-xs font-medium",children:[E.percentage.toFixed(1),"%"]})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(O.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"نمودار درآمد"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[c.length," نقطه داده در ",N(p.period)]}),(0,a.jsx)("div",{className:"mt-4 flex justify-center space-x-4 space-x-reverse",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f(c.reduce((e,t)=>e+t.amount,0))}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"کل درآمد"})]})})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-purple-600 ml-2"}),(0,a.jsx)("h4",{className:"text-lg font-semibold text-admin-text",children:"فعالیت کاربران"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,a.jsx)("span",{className:"text-sm text-admin-text-muted",children:N(p.period)}),(0,a.jsxs)("div",{className:"flex items-center px-2 py-1 rounded-full ".concat("up"===S.trend?"text-green-600 bg-green-50":"down"===S.trend?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"),children:["up"===S.trend?(0,a.jsx)(Z.Z,{className:"h-3 w-3 ml-1"}):"down"===S.trend?(0,a.jsx)(U.Z,{className:"h-3 w-3 ml-1"}):null,(0,a.jsxs)("span",{className:"text-xs font-medium",children:[S.percentage.toFixed(1),"%"]})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 h-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"نمودار فعالیت کاربران"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[o.length," نقطه داده در ",N(p.period)]}),(0,a.jsx)("div",{className:"mt-4 flex justify-center space-x-4 space-x-reverse",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:o.reduce((e,t)=>e+t.count,0)}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"کاربران جدید"})]})})]})})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-6 border-t border-admin-border",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:i.reduce((e,t)=>e+t.count,0)}),(0,a.jsx)("div",{className:"text-sm text-admin-text-muted",children:"مستأجرین جدید"}),(0,a.jsxs)("div",{className:"text-xs text-admin-text-muted mt-1",children:["در ",N(p.period)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:f(c.reduce((e,t)=>e+t.amount,0))}),(0,a.jsx)("div",{className:"text-sm text-admin-text-muted",children:"کل درآمد"}),(0,a.jsxs)("div",{className:"text-xs text-admin-text-muted mt-1",children:["در ",N(p.period)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:o.reduce((e,t)=>e+t.count,0)}),(0,a.jsx)("div",{className:"text-sm text-admin-text-muted",children:"کاربران جدید"}),(0,a.jsxs)("div",{className:"text-xs text-admin-text-muted mt-1",children:["در ",N(p.period)]})]})]})})]})]})}function Y(e){let{onAction:t}=e;return(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:"اقدامات سریع"})}),(0,a.jsxs)("div",{className:"admin-card-body flex gap-3",children:[(0,a.jsx)("button",{className:"btn-admin-primary",onClick:()=>null==t?void 0:t("create"),children:"ایجاد"}),(0,a.jsx)("button",{className:"btn-admin-secondary",onClick:()=>null==t?void 0:t("import"),children:"ورود"}),(0,a.jsx)("button",{className:"btn-admin-outline",onClick:()=>null==t?void 0:t("refresh"),children:"به‌روزرسانی"})]})]})}function B(){let{user:e,isAuthenticated:t}=(0,n.J3)(),[s,i]=(0,r.useState)(""),[g,y]=(0,r.useState)({totalTenants:0,activeTenants:0,totalUsers:0,monthlyRevenue:0,systemHealth:"healthy",lastUpdated:new Date}),[b,w]=(0,r.useState)([]),[,k]=(0,r.useState)({cpuUsage:0,memoryUsage:0,diskUsage:0,networkIO:0,uptime:0,responseTime:0}),[Z,U]=(0,r.useState)(!0),[A,E]=(0,r.useState)(null),[S,I]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{let e=setInterval(()=>{i((0,p.sT)())},1e3);return()=>clearInterval(e)},[]);let P=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t){E("Authentication required"),U(!1);return}try{U(!0),E(null);let[t,s,a]=await Promise.all([j(),f(10),N()]);y(t),w(s),k(a),I(new Date),e&&M.ZP.success("داده‌های داشبورد به‌روزرسانی شد")}catch(n){var s,a;let t=n instanceof Error?n.message:"خطا در بارگذاری داده‌ها";console.error("Error loading dashboard data:",n);let r="object"==typeof n&&null!==n&&"response"in n&&(null===(a=n.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||t;E(r),e&&M.ZP.error(r)}finally{U(!1)}},[t]);(0,r.useEffect)(()=>{t&&P()},[t,P]),(0,r.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{P()},3e5);return()=>clearInterval(e)},[t,P]);let C=()=>{P(!0)},L=e=>{switch(e){case"tenant":return(0,a.jsx)(l,{className:"h-5 w-5"});case"user":return(0,a.jsx)(d.Z,{className:"h-5 w-5"});case"system":return(0,a.jsx)(c,{className:"h-5 w-5"});case"security":return(0,a.jsx)(m.Z,{className:"h-5 w-5"});default:return(0,a.jsx)(o.Z,{className:"h-5 w-5"})}},O=e=>{switch(e){case"success":return"text-admin-success";case"warning":return"text-admin-warning";case"error":return"text-admin-danger";default:return"text-admin-info"}};return A&&!Z?(0,a.jsx)("div",{className:"min-h-screen bg-admin-bg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.Z,{className:"h-16 w-16 text-admin-danger mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-admin-text mb-2",children:"خطا در بارگذاری داده‌ها"}),(0,a.jsx)("p",{className:"text-admin-text-light mb-4",children:A}),(0,a.jsxs)("button",{onClick:C,className:"btn-admin-primary flex items-center mx-auto",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 ml-2"}),"تلاش مجدد"]})]})}):Z&&!g.totalTenants?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-admin-bg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-admin-primary border-t-transparent mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-admin-text",children:"در حال بارگذاری داده‌های داشبورد..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-admin-bg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-admin-text mb-2",children:[(0,v.t)("dashboard.welcome"),"، ",null==e?void 0:e.email,"!"]}),(0,a.jsxs)("p",{className:"text-admin-text-light",children:[(0,v.t)("dashboard.overview")," پلتفرم شما در امروز"]})]}),(0,a.jsxs)("button",{onClick:C,disabled:Z,className:"btn-admin-secondary flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 ml-2 ".concat(Z?"animate-spin":"")}),Z?"در حال به‌روزرسانی...":"به‌روزرسانی"]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-admin-text-muted",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 ml-1"}),(0,v.t)("dashboard.lastUpdated"),": ",(0,p.cp)(S,{format:"long"})," - ",s]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(_,{autoRefresh:!0,refreshInterval:6e4}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(T,{autoRefresh:!0,refreshInterval:3e4})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"admin-card",children:[(0,a.jsx)("div",{className:"admin-card-header",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-admin-text",children:(0,v.t)("dashboard.recentActivity")})}),(0,a.jsxs)("div",{className:"admin-card-body",children:[b.length>0?(0,a.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 space-x-reverse",children:[(0,a.jsx)("div",{className:"p-2 rounded-admin ".concat(O(e.severity)," bg-opacity-10"),children:L(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-admin-text",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-admin-text-muted mt-1",children:(0,p.cp)(e.timestamp,{format:"relative"})})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8 text-admin-text-muted",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"هیچ فعالیتی یافت نشد"})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-admin-border",children:(0,a.jsx)("button",{className:"text-admin-primary hover:text-admin-primary-dark text-sm font-medium",children:(0,v.t)("dashboard.viewAll")})})]})]})})]}),(0,a.jsx)(V,{autoRefresh:!0,refreshInterval:3e5}),(0,a.jsx)(Y,{})]})]})})}},8941:function(e,t,s){"use strict";s.d(t,{t:function(){return i}});let a={common:{loading:"در حال بارگذاری...",error:"خطا",success:"موفقیت",warning:"هشدار",info:"اطلاعات",save:"ذخیره",cancel:"انصراف",delete:"حذف",edit:"ویرایش",view:"مشاهده",add:"افزودن",search:"جستجو",filter:"فیلتر",refresh:"تازه‌سازی",export:"خروجی",import:"ورودی",download:"دانلود",upload:"آپلود",close:"بستن",back:"بازگشت",next:"بعدی",previous:"قبلی",submit:"ثبت",reset:"بازنشانی",confirm:"تأیید",yes:"بله",no:"خیر",ok:"باشه",actions:"عملیات",status:"وضعیت",date:"تاریخ",time:"زمان",name:"نام",email:"ایمیل",phone:"تلفن",address:"آدرس",description:"توضیحات",notes:"یادداشت‌ها",created:"ایجاد شده",updated:"به‌روزرسانی شده",lastLogin:"آخرین ورود",role:"نقش",permissions:"دسترسی‌ها",settings:"تنظیمات",profile:"پروفایل",logout:"خروج",login:"ورود",register:"ثبت‌نام",password:"رمز عبور",currentPassword:"رمز عبور فعلی",newPassword:"رمز عبور جدید",confirmPassword:"تأیید رمز عبور",rememberMe:"مرا به خاطر بسپار",forgotPassword:"فراموشی رمز عبور",twoFactorCode:"کد احراز هویت دو مرحله‌ای"},navigation:{dashboard:"داشبورد",tenants:"مستأجرین",users:"کاربران",analytics:"تحلیل‌ها",security:"امنیت",system:"سیستم",support:"پشتیبانی",reports:"گزارش‌ها",settings:"تنظیمات",profile:"پروفایل",logout:"خروج"},dashboard:{title:"داشبورد مدیریت",welcome:"خوش آمدید",welcomeBack:"خوش برگشتی",overview:"نمای کلی",summary:"خلاصه",quickActions:"عملیات سریع",recentActivity:"فعالیت‌های اخیر",systemHealth:"سلامت سیستم",performance:"عملکرد",alerts:"هشدارها",notifications:"اعلان‌ها",lastUpdated:"آخرین به‌روزرسانی",viewAll:"مشاهده همه",generateReport:"ایجاد گزارش",systemSettings:"تنظیمات سیستم"},stats:{totalTenants:"کل مستأجرین",activeTenants:"مستأجرین فعال",totalUsers:"کل کاربران",activeUsers:"کاربران فعال",monthlyRevenue:"درآمد ماهانه",systemHealth:"سلامت سیستم",uptime:"زمان کارکرد",responseTime:"زمان پاسخ",cpuUsage:"استفاده از پردازنده",memoryUsage:"استفاده از حافظه",diskUsage:"استفاده از دیسک",networkIO:"ورودی/خروجی شبکه",transactions:"تراکنش‌ها",orders:"سفارشات",customers:"مشتریان",items:"کالاها",suppliers:"تأمین‌کنندگان"},status:{active:"فعال",inactive:"غیرفعال",pending:"در انتظار",suspended:"معلق",cancelled:"لغو شده",completed:"تکمیل شده",failed:"ناموفق",processing:"در حال پردازش",online:"آنلاین",offline:"آفلاین",healthy:"سالم",warning:"هشدار",critical:"بحرانی",maintenance:"تعمیر و نگهداری",error:"خطا",success:"موفق",info:"اطلاعات"},tenants:{title:"مدیریت مستأجرین",addTenant:"افزودن مستأجر جدید",editTenant:"ویرایش مستأجر",deleteTenant:"حذف مستأجر",tenantDetails:"جزئیات مستأجر",tenantName:"نام مستأجر",subdomain:"زیردامنه",businessType:"نوع کسب‌وکار",city:"شهر",country:"کشور",plan:"طرح",status:"وضعیت",ownerName:"نام مالک",ownerEmail:"ایمیل مالک",ownerPhone:"تلفن مالک",maxUsers:"حداکثر کاربران",maxItems:"حداکثر کالاها",maxCustomers:"حداکثر مشتریان",createdAt:"تاریخ ایجاد",lastActive:"آخرین فعالیت",storageUsed:"فضای استفاده شده",storageLimit:"محدودیت فضا",userCount:"تعداد کاربران",features:"ویژگی‌ها",billing:"صورتحساب",support:"پشتیبانی"},users:{title:"مدیریت کاربران",addUser:"افزودن کاربر جدید",editUser:"ویرایش کاربر",deleteUser:"حذف کاربر",userDetails:"جزئیات کاربر",firstName:"نام",lastName:"نام خانوادگی",fullName:"نام کامل",username:"نام کاربری",email:"ایمیل",phone:"تلفن",role:"نقش",permissions:"دسترسی‌ها",isActive:"فعال",lastLogin:"آخرین ورود",loginCount:"تعداد ورود",createdAt:"تاریخ ایجاد",updatedAt:"تاریخ به‌روزرسانی",tenant:"مستأجر",workspace:"فضای کاری",department:"بخش",position:"سمت",manager:"مدیر",subordinates:"زیردستان"},analytics:{title:"تحلیل‌ها و گزارش‌ها",overview:"نمای کلی",trends:"روندها",comparisons:"مقایسه‌ها",performance:"عملکرد",revenue:"درآمد",growth:"رشد",conversion:"تبدیل",retention:"حفظ",engagement:"تعامل",demographics:"جمعیت‌شناسی",behavior:"رفتار",funnel:"قیف فروش",cohort:"گروه‌بندی",heatmap:"نقشه حرارتی",realTime:"زمان واقعی",historical:"تاریخی",custom:"سفارشی",export:"خروجی",schedule:"زمان‌بندی"},security:{title:"امنیت و نظارت",authentication:"احراز هویت",authorization:"مجوزدهی",accessControl:"کنترل دسترسی",auditLogs:"گزارش‌های حسابرسی",loginAttempts:"تلاش‌های ورود",failedLogins:"ورودهای ناموفق",suspiciousActivity:"فعالیت‌های مشکوک",ipAddresses:"آدرس‌های IP",userAgents:"عامل‌های کاربر",locations:"مکان‌ها",devices:"دستگاه‌ها",sessions:"جلسات",tokens:"توکن‌ها",apiKeys:"کلیدهای API",rateLimiting:"محدودیت نرخ",firewall:"دیوار آتش",encryption:"رمزگذاری",backups:"پشتیبان‌گیری",compliance:"انطباق"},system:{title:"مدیریت سیستم",health:"سلامت",monitoring:"نظارت",performance:"عملکرد",resources:"منابع",logs:"گزارش‌ها",errors:"خطاها",warnings:"هشدارها",maintenance:"تعمیر و نگهداری",updates:"به‌روزرسانی‌ها",backups:"پشتیبان‌گیری",restore:"بازیابی",configuration:"پیکربندی",environment:"محیط",database:"پایگاه داده",cache:"کش",queue:"صف",cron:"وظایف زمان‌بندی شده",api:"رابط برنامه‌نویسی",webhooks:"وب‌هوک‌ها",integrations:"ادغام‌ها"},support:{title:"پشتیبانی و کمک",tickets:"تیکت‌ها",createTicket:"ایجاد تیکت",ticketDetails:"جزئیات تیکت",priority:"اولویت",status:"وضعیت",category:"دسته‌بندی",subject:"موضوع",message:"پیام",attachments:"پیوست‌ها",responses:"پاسخ‌ها",assignedTo:"تخصیص داده شده به",createdAt:"تاریخ ایجاد",updatedAt:"تاریخ به‌روزرسانی",closedAt:"تاریخ بسته شدن",resolution:"راه‌حل",satisfaction:"رضایت",feedback:"بازخورد",knowledge:"دانش",faq:"سؤالات متداول",guides:"راهنماها",tutorials:"آموزش‌ها"},messages:{loginSuccess:"ورود موفقیت‌آمیز بود",logoutSuccess:"خروج موفقیت‌آمیز بود",saveSuccess:"اطلاعات با موفقیت ذخیره شد",deleteSuccess:"آیتم با موفقیت حذف شد",updateSuccess:"اطلاعات با موفقیت به‌روزرسانی شد",createSuccess:"آیتم جدید با موفقیت ایجاد شد",loginFailed:"ورود ناموفق بود",invalidCredentials:"اطلاعات ورود نامعتبر است",accessDenied:"دسترسی رد شد",notFound:"آیتم مورد نظر یافت نشد",serverError:"خطای سرور رخ داد",networkError:"خطای شبکه رخ داد",validationError:"خطای اعتبارسنجی",requiredField:"این فیلد الزامی است",invalidFormat:"فرمت نامعتبر است",unsavedChanges:"تغییرات ذخیره نشده است",confirmDelete:"آیا از حذف این آیتم اطمینان دارید؟",sessionExpired:"جلسه شما منقضی شده است",lowStorage:"فضای ذخیره‌سازی کم است",highUsage:"استفاده بالا از منابع",loadingData:"در حال بارگذاری اطلاعات...",noData:"داده‌ای موجود نیست",searchResults:"نتایج جستجو",filteredResults:"نتایج فیلتر شده",showingResults:"نمایش نتایج",totalResults:"کل نتایج"},time:{now:"اکنون",today:"امروز",yesterday:"دیروز",tomorrow:"فردا",thisWeek:"این هفته",lastWeek:"هفته گذشته",nextWeek:"هفته آینده",thisMonth:"این ماه",lastMonth:"ماه گذشته",nextMonth:"ماه آینده",thisYear:"امسال",lastYear:"سال گذشته",nextYear:"سال آینده",ago:"قبل",in:"در",from:"از",to:"تا",between:"بین",duration:"مدت",remaining:"باقی‌مانده",overdue:"معوق",scheduled:"زمان‌بندی شده"},numbers:{zero:"صفر",one:"یک",two:"دو",three:"سه",four:"چهار",five:"پنج",six:"شش",seven:"هفت",eight:"هشت",nine:"نه",ten:"ده",hundred:"صد",thousand:"هزار",million:"میلیون",billion:"میلیارد",trillion:"تریلیون",percent:"درصد",decimal:"اعشار",fraction:"کسر",currency:"واحد پول",toman:"تومان",dollar:"دلار",euro:"یورو"},actions:{view:"مشاهده",edit:"ویرایش",delete:"حذف",create:"ایجاد",update:"به‌روزرسانی",save:"ذخیره",cancel:"انصراف",confirm:"تأیید",approve:"تأیید",reject:"رد",activate:"فعال‌سازی",deactivate:"غیرفعال‌سازی",suspend:"معلق کردن",restore:"بازیابی",backup:"پشتیبان‌گیری",export:"خروجی",import:"ورودی",download:"دانلود",upload:"آپلود",send:"ارسال",receive:"دریافت",start:"شروع",stop:"توقف",pause:"توقف موقت",resume:"ادامه",refresh:"تازه‌سازی",reload:"بارگذاری مجدد",search:"جستجو",filter:"فیلتر",sort:"مرتب‌سازی",group:"گروه‌بندی",expand:"گسترش",collapse:"فشرده‌سازی",show:"نمایش",hide:"مخفی",enable:"فعال‌سازی",disable:"غیرفعال‌سازی",configure:"پیکربندی",customize:"سفارشی‌سازی",manage:"مدیریت",monitor:"نظارت",analyze:"تحلیل",report:"گزارش",notify:"اعلان",alert:"هشدار",log:"ثبت",audit:"حسابرسی",secure:"امن‌سازی",migrate:"انتقال",upgrade:"ارتقا",install:"نصب",uninstall:"حذف نصب",deploy:"استقرار",rollback:"بازگشت",scale:"مقیاس‌بندی",optimize:"بهینه‌سازی",maintain:"نگهداری",repair:"تعمیر",clean:"پاک‌سازی",archive:"آرشیو",sync:"همگام‌سازی"}},r={common:{loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",add:"Add",search:"Search",filter:"Filter",refresh:"Refresh",export:"Export",import:"Import",download:"Download",upload:"Upload",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",reset:"Reset",confirm:"Confirm",yes:"Yes",no:"No",ok:"OK",actions:"Actions",status:"Status",date:"Date",time:"Time",name:"Name",email:"Email",phone:"Phone",address:"Address",description:"Description",notes:"Notes",created:"Created",updated:"Updated",lastLogin:"Last Login",role:"Role",permissions:"Permissions",settings:"Settings",profile:"Profile",logout:"Logout",login:"Login",register:"Register",password:"Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password",twoFactorCode:"Two-Factor Code"}},n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fa";return"fa"===e?a:r},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa",s=n(t),a=e.split("."),r=s;for(let t of a){if(!r||"object"!=typeof r||!(t in r))return e;r=r[t]}return"string"==typeof r?r:e}},780:function(e,t,s){"use strict";s.d(t,{xG:function(){return r}});let a={SYMBOL:"تومان",LOCALE:"fa-IR",DECIMAL_PLACES:0,MIN_AMOUNT:0,MAX_AMOUNT:999999999999};function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{includeCurrency:s=!0,minimumFractionDigits:r=a.DECIMAL_PLACES,maximumFractionDigits:n=a.DECIMAL_PLACES,locale:i=a.LOCALE}=t,l=function(e){if(null==e)return{isValid:!1,value:0,error:"Amount cannot be null or undefined"};let t="string"==typeof e?parseFloat(e):Number(e);return isNaN(t)?{isValid:!1,value:0,error:"Amount must be a valid number"}:t<a.MIN_AMOUNT?{isValid:!1,value:t,error:"Amount must be at least ".concat(a.MIN_AMOUNT," Toman")}:t>a.MAX_AMOUNT?{isValid:!1,value:t,error:"Amount cannot exceed ".concat(a.MAX_AMOUNT," Toman")}:{isValid:!0,value:Math.round(t)}}(e);if(!l.isValid)return s?"۰ ".concat(a.SYMBOL):"۰";try{let e=new Intl.NumberFormat(i,{minimumFractionDigits:r,maximumFractionDigits:n}).format(l.value);return s?"".concat(e," ").concat(a.SYMBOL):e}catch(e){return console.error("Error formatting currency:",e),s?"۰ ".concat(a.SYMBOL):"۰"}}}},function(e){e.O(0,[301,64,975,902,971,117,744],function(){return e(e.s=539)}),_N_E=e.O()}]);