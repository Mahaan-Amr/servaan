(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{7899:function(e,t,a){Promise.resolve().then(a.bind(a,9856))},8420:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},6215:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5252:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8728:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8906:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5868:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3085:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9856:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var s=a(7437),n=a(2265),r=a(9376),i=a(1671),d=a(9388),l=a(6215),c=a(9205);let m=(0,c.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),o=(0,c.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var x=a(3247);let u=(0,c.Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var h=a(6865),p=a(8420),b=a(5805),v=a(5252),g=a(2208),f=a(5868);let j=(0,c.Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var y=a(9064),N=a(340),w=a(4607),k=a(4540),C=a(2489);let S=(0,c.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Z=a(8728),A=a(8906);let E=(0,c.Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function R(e){let{tenant:t,isOpen:a,onClose:r,onSave:i}=e,[d,l]=(0,n.useState)({}),[c,m]=(0,n.useState)(!1),[o,x]=(0,n.useState)("basic");(0,n.useEffect)(()=>{t&&l({name:t.name,displayName:t.displayName,description:t.description,plan:t.plan,isActive:t.isActive,ownerName:t.ownerName,ownerEmail:t.ownerEmail,ownerPhone:t.ownerPhone,businessType:t.businessType,city:t.city,country:t.country,features:t.features?{...t.features}:void 0})},[t]);let u=(e,t)=>{l(a=>({...a,[e]:t}))},h=e=>{l(t=>{var a,s,n,r,i,d,l,c,m,o,x,u,h,p,b,v,g,f,j,y,N,w,k,C,S,Z,A;return{...t,features:{hasInventoryManagement:null!==(b=null===(a=t.features)||void 0===a?void 0:a.hasInventoryManagement)&&void 0!==b&&b,hasCustomerManagement:null!==(v=null===(s=t.features)||void 0===s?void 0:s.hasCustomerManagement)&&void 0!==v&&v,hasAccountingSystem:null!==(g=null===(n=t.features)||void 0===n?void 0:n.hasAccountingSystem)&&void 0!==g&&g,hasReporting:null!==(f=null===(r=t.features)||void 0===r?void 0:r.hasReporting)&&void 0!==f&&f,hasNotifications:null!==(j=null===(i=t.features)||void 0===i?void 0:i.hasNotifications)&&void 0!==j&&j,hasAdvancedReporting:null!==(y=null===(d=t.features)||void 0===d?void 0:d.hasAdvancedReporting)&&void 0!==y&&y,hasApiAccess:null!==(N=null===(l=t.features)||void 0===l?void 0:l.hasApiAccess)&&void 0!==N&&N,hasCustomBranding:null!==(w=null===(c=t.features)||void 0===c?void 0:c.hasCustomBranding)&&void 0!==w&&w,hasMultiLocation:null!==(k=null===(m=t.features)||void 0===m?void 0:m.hasMultiLocation)&&void 0!==k&&k,hasAdvancedCRM:null!==(C=null===(o=t.features)||void 0===o?void 0:o.hasAdvancedCRM)&&void 0!==C&&C,hasWhatsappIntegration:null!==(S=null===(x=t.features)||void 0===x?void 0:x.hasWhatsappIntegration)&&void 0!==S&&S,hasInstagramIntegration:null!==(Z=null===(u=t.features)||void 0===u?void 0:u.hasInstagramIntegration)&&void 0!==Z&&Z,hasAnalyticsBI:null!==(A=null===(h=t.features)||void 0===h?void 0:h.hasAnalyticsBI)&&void 0!==A&&A,[e]:!(null===(p=t.features)||void 0===p?void 0:p[e])}}})},b=async e=>{if(e.preventDefault(),t)try{m(!0);let e=await (0,N.Jq)(t.id,d);y.Am.success("مستأجر با موفقیت به‌روزرسانی شد"),i(e),r()}catch(e){y.Am.error(e.message||"خطا در به‌روزرسانی مستأجر")}finally{m(!1)}};return a&&t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-admin shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-admin-border",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-6 w-6 text-admin-primary ml-2"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-admin-text",children:"ویرایش مستأجر"})]}),(0,s.jsx)("button",{onClick:r,className:"text-admin-text-muted hover:text-admin-text",children:(0,s.jsx)(C.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex border-b border-admin-border",children:[(0,s.jsxs)("button",{onClick:()=>x("basic"),className:"px-6 py-3 text-sm font-medium border-b-2 ".concat("basic"===o?"border-admin-primary text-admin-primary":"border-transparent text-admin-text-muted hover:text-admin-text"),children:[(0,s.jsx)(S,{className:"h-4 w-4 ml-2 inline"}),"اطلاعات پایه"]}),(0,s.jsxs)("button",{onClick:()=>x("features"),className:"px-6 py-3 text-sm font-medium border-b-2 ".concat("features"===o?"border-admin-primary text-admin-primary":"border-transparent text-admin-text-muted hover:text-admin-text"),children:[(0,s.jsx)(Z.Z,{className:"h-4 w-4 ml-2 inline"}),"ویژگی‌ها"]}),(0,s.jsxs)("button",{onClick:()=>x("advanced"),className:"px-6 py-3 text-sm font-medium border-b-2 ".concat("advanced"===o?"border-admin-primary text-admin-primary":"border-transparent text-admin-text-muted hover:text-admin-text"),children:[(0,s.jsx)(A.Z,{className:"h-4 w-4 ml-2 inline"}),"تنظیمات پیشرفته"]})]}),(0,s.jsxs)("form",{onSubmit:b,className:"p-6",children:["basic"===o&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام مستأجر *"}),(0,s.jsx)("input",{type:"text",value:d.name||"",onChange:e=>u("name",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام نمایشی"}),(0,s.jsx)("input",{type:"text",value:d.displayName||"",onChange:e=>u("displayName",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"ایمیل مالک *"}),(0,s.jsx)("input",{type:"email",value:d.ownerEmail||"",onChange:e=>u("ownerEmail",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام مالک"}),(0,s.jsx)("input",{type:"text",value:d.ownerName||"",onChange:e=>u("ownerName",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"شماره تلفن"}),(0,s.jsx)("input",{type:"tel",value:d.ownerPhone||"",onChange:e=>u("ownerPhone",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نوع کسب و کار"}),(0,s.jsx)("input",{type:"text",value:d.businessType||"",onChange:e=>u("businessType",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"شهر"}),(0,s.jsx)("input",{type:"text",value:d.city||"",onChange:e=>u("city",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"کشور *"}),(0,s.jsx)("input",{type:"text",value:d.country||"",onChange:e=>u("country",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"توضیحات"}),(0,s.jsx)("textarea",{value:d.description||"",onChange:e=>u("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]})]}),"features"===o&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"طرح *"}),(0,s.jsxs)("select",{value:d.plan||"",onChange:e=>u("plan",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,children:[(0,s.jsx)("option",{value:"STARTER",children:"استارتر"}),(0,s.jsx)("option",{value:"BUSINESS",children:"بیزینس"}),(0,s.jsx)("option",{value:"ENTERPRISE",children:"انترپرایز"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"وضعیت"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"isActive",checked:!0===d.isActive,onChange:()=>u("isActive",!0),className:"ml-2 text-admin-primary focus:ring-admin-primary"}),"فعال"]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"isActive",checked:!1===d.isActive,onChange:()=>u("isActive",!1),className:"ml-2 text-admin-primary focus:ring-admin-primary"}),"غیرفعال"]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-4",children:"ویژگی‌های سیستم"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.features&&Object.entries(d.features).map(e=>{let[t,a]=e;return(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:()=>h(t),className:"ml-2 text-admin-primary focus:ring-admin-primary"}),(0,s.jsx)("span",{className:"text-sm text-admin-text",children:{hasInventoryManagement:"مدیریت موجودی",hasCustomerManagement:"مدیریت مشتریان",hasAccountingSystem:"سیستم حسابداری",hasReporting:"گزارش‌گیری",hasNotifications:"اعلان‌ها",hasAdvancedReporting:"گزارش‌گیری پیشرفته",hasApiAccess:"دسترسی API",hasCustomBranding:"برندینگ سفارشی",hasMultiLocation:"چند شعبه",hasAdvancedCRM:"CRM پیشرفته",hasWhatsappIntegration:"ادغام واتساپ",hasInstagramIntegration:"ادغام اینستاگرام",hasAnalyticsBI:"تحلیل و هوش تجاری"}[t]||t})]},t)})})]})]}),"advanced"===o&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-admin-bg p-4 rounded-admin",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-4",children:"تنظیمات پیشرفته"}),(0,s.jsx)("p",{className:"text-sm text-admin-text-muted",children:"این بخش برای تنظیمات پیشرفته و دسترسی‌های خاص در نظر گرفته شده است."})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 space-x-reverse pt-6 border-t border-admin-border",children:[(0,s.jsx)("button",{type:"button",onClick:r,className:"btn-admin-secondary",disabled:c,children:"انصراف"}),(0,s.jsx)("button",{type:"submit",className:"btn-admin-primary flex items-center",disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"}),"در حال ذخیره..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E,{className:"h-4 w-4 ml-2"}),"ذخیره تغییرات"]})})]})]})]})}):null}let M=(0,c.Z)("square-check-big",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),P=(0,c.Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),I=(0,c.Z)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),T=(0,c.Z)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function L(e){var t;let{tenants:a,selectedTenants:r,onSelectionChange:l,onRefresh:c}=e,[o,x]=(0,n.useState)(!1),[u,p]=(0,n.useState)(!1),[b,v]=(0,n.useState)(null),g=r.length===a.length&&a.length>0;r.length>0&&(r.length,a.length);let f=async(e,t)=>{if(0===r.length){y.Am.error("لطفاً حداقل یک مستأجر را انتخاب کنید");return}"export"===e?v({type:"export",format:t}):v({type:e}),p(!0)},j=async()=>{if(b&&0!==r.length)try{if(x(!0),"export"===b.type&&b.format)await (0,N.oL)(b.format),y.Am.success("صادرات ".concat(r.length," مستأجر با موفقیت انجام شد"));else if("activate"===b.type||"deactivate"===b.type){let e="activate"===b.type;await (0,N._7)(r,e),y.Am.success("".concat(r.length," مستأجر با موفقیت ").concat(e?"فعال":"غیرفعال"," شد")),c(),l([])}}catch(e){y.Am.error(e.message||"خطا در انجام عملیات گروهی")}finally{x(!1),p(!1),v(null)}};return 0===a.length?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-admin-primary text-white p-4 rounded-admin transition-all duration-300 ".concat(r.length>0?"opacity-100 translate-y-0":"opacity-0 -translate-y-full absolute"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("button",{onClick:()=>{g?l([]):l(a.map(e=>e.id))},className:"flex items-center text-white hover:text-admin-bg transition-colors",children:[g?(0,s.jsx)(M,{className:"h-5 w-5 ml-2"}):(0,s.jsx)(P,{className:"h-5 w-5 ml-2"}),g?"حذف انتخاب همه":"انتخاب همه"]})}),(0,s.jsxs)("div",{className:"text-sm",children:[r.length," مستأجر انتخاب شده"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse",children:[(0,s.jsxs)("button",{onClick:()=>f("activate"),disabled:o,className:"flex items-center px-3 py-2 bg-admin-success hover:bg-admin-success-dark text-white rounded-admin text-sm transition-colors disabled:opacity-50",children:[(0,s.jsx)(I,{className:"h-4 w-4 ml-2"}),"فعال‌سازی گروهی"]}),(0,s.jsxs)("button",{onClick:()=>f("deactivate"),disabled:o,className:"flex items-center px-3 py-2 bg-admin-warning hover:bg-admin-warning-dark text-white rounded-admin text-sm transition-colors disabled:opacity-50",children:[(0,s.jsx)(T,{className:"h-4 w-4 ml-2"}),"غیرفعال‌سازی گروهی"]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("button",{disabled:o,className:"flex items-center px-3 py-2 bg-admin-info hover:bg-admin-info-dark text-white rounded-admin text-sm transition-colors disabled:opacity-50",children:[(0,s.jsx)(m,{className:"h-4 w-4 ml-2"}),"صادرات",(0,s.jsx)("svg",{className:"h-4 w-4 mr-2 transition-transform group-hover:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-white border border-admin-border rounded-admin shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("button",{onClick:()=>f("export","csv"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"صادرات CSV"}),(0,s.jsx)("button",{onClick:()=>f("export","excel"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"صادرات Excel"}),(0,s.jsx)("button",{onClick:()=>f("export","pdf"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"صادرات PDF"})]})})]}),(0,s.jsx)("button",{onClick:()=>l([]),className:"text-white hover:text-admin-bg transition-colors",title:"حذف انتخاب",children:(0,s.jsx)(d.Z,{className:"h-5 w-5"})})]})]})}),u&&b&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-admin shadow-xl max-w-md w-full",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:["export"===b.type?(0,s.jsx)(m,{className:"h-6 w-6 text-admin-info ml-2"}):"activate"===b.type?(0,s.jsx)(i.Z,{className:"h-6 w-6 text-admin-success ml-2"}):(0,s.jsx)(h.Z,{className:"h-6 w-6 text-admin-warning ml-2"}),(0,s.jsxs)("h3",{className:"text-lg font-bold text-admin-text",children:["export"===b.type&&"تأیید صادرات","activate"===b.type&&"تأیید فعال‌سازی گروهی","deactivate"===b.type&&"تأیید غیرفعال‌سازی گروهی"]})]}),(0,s.jsxs)("p",{className:"text-admin-text mb-6",children:["export"===b.type&&"آیا می‌خواهید ".concat(r.length," مستأجر انتخاب شده را به فرمت ").concat(null===(t=b.format)||void 0===t?void 0:t.toUpperCase()," صادر کنید؟"),"activate"===b.type&&"آیا می‌خواهید ".concat(r.length," مستأجر انتخاب شده را فعال کنید؟"),"deactivate"===b.type&&"آیا می‌خواهید ".concat(r.length," مستأجر انتخاب شده را غیرفعال کنید؟")]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 space-x-reverse",children:[(0,s.jsx)("button",{onClick:()=>{p(!1),v(null)},className:"btn-admin-secondary",disabled:o,children:"انصراف"}),(0,s.jsx)("button",{onClick:j,className:"btn-admin-primary flex items-center ".concat("deactivate"===b.type?"bg-admin-warning hover:bg-admin-warning-dark":""),disabled:o,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"}),"در حال انجام..."]}):(0,s.jsxs)(s.Fragment,{children:["export"===b.type&&(0,s.jsx)(m,{className:"h-4 w-4 ml-2"}),"activate"===b.type&&(0,s.jsx)(i.Z,{className:"h-4 w-4 ml-2"}),"deactivate"===b.type&&(0,s.jsx)(h.Z,{className:"h-4 w-4 ml-2"}),"تأیید"]})})]})]})})})]})}var q=a(4401),z=a(525),F=a(3085);function V(e){let{className:t=""}=e,[a,r]=(0,n.useState)(null),[i,d]=(0,n.useState)(null),[c,o]=(0,n.useState)(!0),[x,u]=(0,n.useState)(null),[h,g]=(0,n.useState)(30),[f,j]=(0,n.useState)("day"),[w,k]=(0,n.useState)("monthly"),[C,S]=(0,n.useState)(new Date().getFullYear());(0,n.useEffect)(()=>{Z()},[h,f,w,C]);let Z=async()=>{try{o(!0),u(null);let[e,t]=await Promise.all([(0,N.bm)(h,f),(0,N.uW)(w,C)]);r(e),d(t)}catch(e){u(e.message),y.Am.error("خطا در بارگذاری داده‌های تحلیلی")}finally{o(!1)}},A=async e=>{try{await (0,N.oL)(e),y.Am.success("صادرات داده‌های تحلیلی با موفقیت انجام شد")}catch(e){y.Am.error(e.message||"خطا در صادرات داده‌ها")}},E=e=>new Intl.NumberFormat("fa-IR",{style:"currency",currency:"IRR",minimumFractionDigits:0}).format(e);return!c||a||i?x?(0,s.jsx)("div",{className:"bg-white rounded-admin border border-admin-border p-6 ".concat(t),children:(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(q.Z,{className:"h-16 w-16 text-admin-danger mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-2",children:"خطا در بارگذاری داده‌ها"}),(0,s.jsx)("p",{className:"text-admin-text-light mb-4",children:x}),(0,s.jsx)("button",{onClick:Z,className:"btn-admin-primary",children:"تلاش مجدد"})]})}):(0,s.jsxs)("div",{className:"bg-white rounded-admin border border-admin-border ".concat(t),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-admin-border",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.Z,{className:"h-6 w-6 text-admin-primary ml-2"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-admin-text",children:"داشبورد تحلیلی مستأجرین"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-3 space-x-reverse",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("button",{className:"btn-admin-secondary flex items-center",children:[(0,s.jsx)(m,{className:"h-4 w-4 ml-2"}),"صادرات"]}),(0,s.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-32 bg-white border border-admin-border rounded-admin shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("button",{onClick:()=>A("csv"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"CSV"}),(0,s.jsx)("button",{onClick:()=>A("excel"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"Excel"}),(0,s.jsx)("button",{onClick:()=>A("pdf"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"PDF"})]})})]})})]}),(0,s.jsx)("div",{className:"p-6 border-b border-admin-border",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"دوره رشد"}),(0,s.jsxs)("select",{value:h,onChange:e=>g(Number(e.target.value)),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:7,children:"۷ روز"}),(0,s.jsx)("option",{value:30,children:"۳۰ روز"}),(0,s.jsx)("option",{value:90,children:"۹۰ روز"}),(0,s.jsx)("option",{value:365,children:"یک سال"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"گروه‌بندی رشد"}),(0,s.jsxs)("select",{value:f,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"day",children:"روزانه"}),(0,s.jsx)("option",{value:"week",children:"هفتگی"}),(0,s.jsx)("option",{value:"month",children:"ماهانه"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"دوره درآمد"}),(0,s.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"daily",children:"روزانه"}),(0,s.jsx)("option",{value:"weekly",children:"هفتگی"}),(0,s.jsx)("option",{value:"monthly",children:"ماهانه"}),(0,s.jsx)("option",{value:"yearly",children:"سالانه"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"سال"}),(0,s.jsx)("select",{value:C,onChange:e=>S(Number(e.target.value)),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:Array.from({length:5},(e,t)=>new Date().getFullYear()-t).map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-admin-primary to-admin-primary-dark text-white p-6 rounded-admin",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-admin-bg text-sm font-medium",children:"کل مستأجرین"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:(null==a?void 0:a.data)?a.data.reduce((e,t)=>e+t.new_tenants,0):0})]}),(0,s.jsx)(p.Z,{className:"h-12 w-12 text-admin-bg opacity-80"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-admin-success to-admin-success-dark text-white p-6 rounded-admin",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-admin-bg text-sm font-medium",children:"مستأجرین فعال"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:(null==a?void 0:a.data)?a.data.reduce((e,t)=>e+t.active_tenants,0):0})]}),(0,s.jsx)(b.Z,{className:"h-12 w-12 text-admin-bg opacity-80"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-admin-warning to-admin-warning-dark text-white p-6 rounded-admin",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-admin-bg text-sm font-medium",children:"کل درآمد"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:(null==i?void 0:i.summary.totalRevenue)?E(i.summary.totalRevenue):"0"})]}),(0,s.jsx)(v.Z,{className:"h-12 w-12 text-admin-bg opacity-80"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-admin-bg p-6 rounded-admin",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-admin-text mb-4 flex items-center",children:[(0,s.jsx)(z.Z,{className:"h-5 w-5 text-admin-primary ml-2"}),"روند رشد مستأجرین"]}),(null==a?void 0:a.data)&&a.data.length>0?(0,s.jsx)("div",{className:"space-y-3",children:a.data.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-admin-text",children:new Date(e.period).toLocaleDateString("fa-IR")}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,s.jsxs)("span",{className:"text-sm text-admin-text",children:["جدید: ",e.new_tenants]}),(0,s.jsxs)("span",{className:"text-sm text-admin-success",children:["فعال: ",e.active_tenants]})]})]},t))}):(0,s.jsx)("div",{className:"text-center py-8 text-admin-text-muted",children:"داده‌ای برای نمایش وجود ندارد"})]}),(0,s.jsxs)("div",{className:"bg-admin-bg p-6 rounded-admin",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-admin-text mb-4 flex items-center",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-admin-warning ml-2"}),"روند درآمد"]}),(null==i?void 0:i.data)&&i.data.length>0?(0,s.jsx)("div",{className:"space-y-3",children:i.data.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-admin-text",children:e.period}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 space-x-reverse",children:[(0,s.jsx)("span",{className:"text-sm text-admin-text",children:E(e.revenue)}),(0,s.jsxs)("span",{className:"text-sm flex items-center ".concat(e.growth>=0?"text-admin-success":"text-admin-danger"),children:[e.growth>=0?(0,s.jsx)(z.Z,{className:"h-3 w-3 ml-1"}):(0,s.jsx)(F.Z,{className:"h-3 w-3 ml-1"}),Math.abs(e.growth),"%"]})]})]},t))}):(0,s.jsx)("div",{className:"text-center py-8 text-admin-text-muted",children:"داده‌ای برای نمایش وجود ندارد"})]})]}),(null==i?void 0:i.summary)&&(0,s.jsxs)("div",{className:"mt-8 bg-admin-bg p-6 rounded-admin",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-admin-text mb-4",children:"خلاصه درآمد"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-admin-text-muted mb-1",children:"کل درآمد"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-admin-text",children:E(i.summary.totalRevenue)})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-admin-text-muted mb-1",children:"میانگین رشد"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-admin-success",children:[i.summary.averageGrowth,"%"]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-admin-text-muted mb-1",children:"بهترین ماه"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-admin-primary",children:i.summary.topMonth})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-admin-text-muted mb-1",children:"بیشترین درآمد"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-admin-warning",children:E(i.summary.topRevenue)})]})]})]})]})]}):(0,s.jsx)("div",{className:"bg-white rounded-admin border border-admin-border p-6 ".concat(t),children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 bg-admin-bg rounded w-1/4 mb-4"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsx)("div",{className:"h-20 bg-admin-bg rounded"}),(0,s.jsx)("div",{className:"h-20 bg-admin-bg rounded"}),(0,s.jsx)("div",{className:"h-20 bg-admin-bg rounded"})]}),(0,s.jsx)("div",{className:"h-64 bg-admin-bg rounded"})]})})}function B(e){let{isOpen:t,onClose:a,onSuccess:r}=e,[i,d]=(0,n.useState)({name:"",displayName:"",subdomain:"",description:"",plan:"STARTER",ownerName:"",ownerEmail:"",ownerPhone:"",businessType:"",city:"",country:"ایران",isActive:!0}),[l,c]=(0,n.useState)(!1),m=(e,t)=>{d(a=>({...a,[e]:t}))},o=async e=>{e.preventDefault();try{c(!0),await new Promise(e=>setTimeout(e,1e3)),y.Am.success("مستأجر جدید با موفقیت ایجاد شد"),r(),a(),d({name:"",displayName:"",subdomain:"",description:"",plan:"STARTER",ownerName:"",ownerEmail:"",ownerPhone:"",businessType:"",city:"",country:"ایران",isActive:!0})}catch(e){y.Am.error(e.message||"خطا در ایجاد مستأجر جدید")}finally{c(!1)}};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-admin shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-admin-border",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-6 w-6 text-admin-primary ml-2"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-admin-text",children:"ایجاد مستأجر جدید"})]}),(0,s.jsx)("button",{onClick:a,className:"text-admin-text-muted hover:text-admin-text",children:(0,s.jsx)(C.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:o,className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام مستأجر *"}),(0,s.jsx)("input",{type:"text",value:i.name,onChange:e=>m("name",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,placeholder:"نام مستأجر"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام نمایشی"}),(0,s.jsx)("input",{type:"text",value:i.displayName,onChange:e=>m("displayName",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"نام نمایشی"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"زیردامنه *"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"text",value:i.subdomain,onChange:e=>m("subdomain",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,placeholder:"نام زیردامنه"}),(0,s.jsx)("span",{className:"mr-2 text-admin-text-muted",children:".servaan.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"طرح *"}),(0,s.jsxs)("select",{value:i.plan,onChange:e=>m("plan",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,children:[(0,s.jsx)("option",{value:"STARTER",children:"استارتر"}),(0,s.jsx)("option",{value:"BUSINESS",children:"بیزینس"}),(0,s.jsx)("option",{value:"ENTERPRISE",children:"انترپرایز"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نام مالک *"}),(0,s.jsx)("input",{type:"text",value:i.ownerName,onChange:e=>m("ownerName",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,placeholder:"نام مالک"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"ایمیل مالک *"}),(0,s.jsx)("input",{type:"email",value:i.ownerEmail,onChange:e=>m("ownerEmail",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",required:!0,placeholder:"ایمیل مالک"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"شماره تلفن"}),(0,s.jsx)("input",{type:"tel",value:i.ownerPhone,onChange:e=>m("ownerPhone",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"شماره تلفن"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"نوع کسب و کار"}),(0,s.jsx)("input",{type:"text",value:i.businessType,onChange:e=>m("businessType",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"نوع کسب و کار"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"شهر"}),(0,s.jsx)("input",{type:"text",value:i.city,onChange:e=>m("city",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"شهر"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"کشور"}),(0,s.jsx)("input",{type:"text",value:i.country,onChange:e=>m("country",e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"کشور"})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"توضیحات"}),(0,s.jsx)("textarea",{value:i.description,onChange:e=>m("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",placeholder:"توضیحات مستأجر"})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:i.isActive,onChange:e=>m("isActive",e.target.checked),className:"ml-2 text-admin-primary focus:ring-admin-primary"}),(0,s.jsx)("span",{className:"text-sm text-admin-text",children:"مستأجر فعال باشد"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 space-x-reverse pt-6 border-t border-admin-border",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"btn-admin-secondary",disabled:l,children:"انصراف"}),(0,s.jsx)("button",{type:"submit",className:"btn-admin-primary flex items-center",disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white ml-2"}),"در حال ایجاد..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E,{className:"h-4 w-4 ml-2"}),"ایجاد مستأجر"]})})]})]})]})}):null}var U=(0,k.c2)(function(){let e=(0,r.useRouter)(),[t,a]=(0,n.useState)([]),[c,k]=(0,n.useState)(!0),[C,S]=(0,n.useState)(null),[Z,A]=(0,n.useState)({page:1,limit:10,total:0,pages:0}),[E,M]=(0,n.useState)(""),[P,I]=(0,n.useState)("all"),[T,q]=(0,n.useState)("all"),[z,F]=(0,n.useState)(!1),[U,D]=(0,n.useState)([]),[_,H]=(0,n.useState)(!1),[O,W]=(0,n.useState)(null),[J,Y]=(0,n.useState)(!1),[G,K]=(0,n.useState)(!1),Q=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{k(!0),S(null);let t={page:e.page||Z.page,limit:e.limit||Z.limit,search:void 0!==e.search?e.search:E,status:void 0!==e.status?e.status:P,plan:void 0!==e.plan?e.plan:T},s=await (0,N.ax)(t);a(s.tenants),A(s.pagination),e.page&&A(t=>({...t,page:e.page})),e.limit&&A(t=>({...t,limit:e.limit})),void 0!==e.search&&M(e.search),void 0!==e.status&&I(e.status),void 0!==e.plan&&q(e.plan)}catch(e){S(e.message),y.Am.error(e.message)}finally{k(!1)}};(0,n.useEffect)(()=>{Q()},[]);let X=e=>{M(e),Q({search:e,page:1})},$=e=>{I(e),Q({status:e,page:1})},ee=e=>{q(e),Q({plan:e,page:1})},et=e=>{A(t=>({...t,limit:e})),Q({limit:e,page:1})},ea=e=>{Q({page:e})},es=e=>{D(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},en=e=>{W(e),Y(!0)},er=()=>{Q(),D([])},ei=async e=>{try{await (0,N.oL)(e),y.Am.success("داده‌ها با موفقیت به فرمت ".concat(e," صادر شد"))}catch(e){y.Am.error(e.message||"خطا در صادرات داده‌ها")}},ed=e=>e?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-admin-success text-white",children:[(0,s.jsx)(i.Z,{className:"h-3 w-3 ml-1"}),"فعال"]}):(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-admin-danger text-white",children:[(0,s.jsx)(d.Z,{className:"h-3 w-3 ml-1"}),"غیرفعال"]}),el=e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({STARTER:"bg-admin-info text-white",BUSINESS:"bg-admin-warning text-white",ENTERPRISE:"bg-admin-primary text-white"}[e]||"bg-admin-bg text-admin-text"),children:{STARTER:"استارتر",BUSINESS:"بیزینس",ENTERPRISE:"انترپرایز"}[e]||e}),ec=e=>new Intl.NumberFormat("fa-IR",{style:"currency",currency:"IRR",minimumFractionDigits:0}).format(e);return(0,s.jsxs)("div",{className:"min-h-screen bg-admin-bg",children:[(0,s.jsx)("div",{className:"bg-white border-b border-admin-border px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-admin-text",children:"مدیریت مستأجرین"}),(0,s.jsx)("p",{className:"text-admin-text-light",children:"مدیریت و نظارت بر مستأجرین پلتفرم"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse",children:[(0,s.jsxs)("button",{onClick:()=>H(!_),className:"btn-admin-secondary flex items-center ".concat(_?"bg-admin-primary text-white":""),children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 ml-2"}),_?"مخفی کردن تحلیل":"نمایش تحلیل"]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)("button",{className:"btn-admin-secondary flex items-center",children:[(0,s.jsx)(m,{className:"h-4 w-4 ml-2"}),"صادرات",(0,s.jsx)("svg",{className:"h-4 w-4 mr-2 transition-transform group-hover:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,s.jsx)("div",{className:"absolute top-full left-0 mt-2 w-32 bg-white border border-admin-border rounded-admin shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:(0,s.jsxs)("div",{className:"py-2",children:[(0,s.jsx)("button",{onClick:()=>ei("csv"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"CSV"}),(0,s.jsx)("button",{onClick:()=>ei("excel"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"Excel"}),(0,s.jsx)("button",{onClick:()=>ei("pdf"),className:"w-full text-right px-4 py-2 text-sm text-admin-text hover:bg-admin-bg transition-colors",children:"PDF"})]})})]}),(0,s.jsxs)("button",{onClick:()=>{K(!0)},className:"btn-admin-primary flex items-center",children:[(0,s.jsx)(o,{className:"h-4 w-4 ml-2"}),"مستأجر جدید"]})]})]})}),_&&(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(V,{})}),(0,s.jsx)(L,{tenants:t,selectedTenants:U,onSelectionChange:D,onRefresh:er}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-admin border border-admin-border p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-admin-text",children:"فیلترها و جستجو"}),(0,s.jsx)("button",{onClick:()=>F(!z),className:"text-admin-primary hover:text-admin-primary-dark text-sm",children:z?"مخفی کردن فیلترها":"نمایش فیلترها"})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-admin-text-muted"}),(0,s.jsx)("input",{type:"text",placeholder:"جستجو در نام، زیردامنه، یا ایمیل...",value:E,onChange:e=>X(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent"})]})}),(0,s.jsxs)("button",{onClick:()=>F(!z),className:"btn-admin-secondary flex items-center",children:[(0,s.jsx)(u,{className:"h-4 w-4 ml-2"}),"فیلترها"]})]}),z&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-admin-bg rounded-admin",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"وضعیت"}),(0,s.jsxs)("select",{value:P,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"all",children:"همه"}),(0,s.jsx)("option",{value:"active",children:"فعال"}),(0,s.jsx)("option",{value:"inactive",children:"غیرفعال"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"طرح"}),(0,s.jsxs)("select",{value:T,onChange:e=>ee(e.target.value),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"all",children:"همه"}),(0,s.jsx)("option",{value:"STARTER",children:"استارتر"}),(0,s.jsx)("option",{value:"BUSINESS",children:"بیزینس"}),(0,s.jsx)("option",{value:"ENTERPRISE",children:"انترپرایز"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-admin-text mb-2",children:"تعداد در صفحه"}),(0,s.jsxs)("select",{value:Z.limit,onChange:e=>et(Number(e.target.value)),className:"w-full px-3 py-2 border border-admin-border rounded-admin focus:ring-2 focus:ring-admin-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:10,children:"۱۰"}),(0,s.jsx)("option",{value:25,children:"۲۵"}),(0,s.jsx)("option",{value:50,children:"۵۰"}),(0,s.jsx)("option",{value:100,children:"۱۰۰"})]})]})]})})]}),C?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(h.Z,{className:"h-16 w-16 text-admin-danger mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-admin-text mb-2",children:"خطا در بارگذاری داده‌ها"}),(0,s.jsx)("p",{className:"text-admin-text-light mb-4",children:C}),(0,s.jsx)("button",{onClick:()=>Q(),className:"btn-admin-primary",children:"تلاش مجدد"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-admin border border-admin-border overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-admin-border",children:[(0,s.jsx)("thead",{className:"bg-admin-bg",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:(0,s.jsx)("input",{type:"checkbox",checked:U.length===t.length&&t.length>0,onChange:()=>{U.length===t.length?D([]):D(t.map(e=>e.id))},className:"h-4 w-4 text-admin-primary focus:ring-admin-primary border-admin-border rounded"})}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"مستأجر"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"طرح"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"کاربران"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"درآمد ماهانه"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"وضعیت"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"تاریخ ایجاد"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-admin-text-muted uppercase tracking-wider",children:"عملیات"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-admin-border",children:c?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:8,className:"px-6 py-4 text-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-admin-primary mx-auto"})})}):0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:8,className:"px-6 py-8 text-center text-admin-text-muted",children:"هیچ مستأجری یافت نشد"})}):t.map(t=>{var a;return(0,s.jsxs)("tr",{className:"hover:bg-admin-bg transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("input",{type:"checkbox",checked:U.includes(t.id),onChange:()=>es(t.id),className:"h-4 w-4 text-admin-primary focus:ring-admin-primary border-admin-border rounded"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-admin-primary flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"h-5 w-5 text-white"})})}),(0,s.jsxs)("div",{className:"mr-4",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-admin-text",children:t.displayName||t.name}),(0,s.jsxs)("div",{className:"text-sm text-admin-text-light",children:[t.subdomain,".servaan.com"]}),(0,s.jsx)("div",{className:"text-xs text-admin-text-muted",children:t.businessType||"نامشخص"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:el(t.plan)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-admin-text",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4 ml-1 text-admin-text-muted"}),t.userCount||0]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-admin-text",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 ml-1 text-admin-text-muted"}),ec(t.monthlyRevenue||(null===(a=t.metrics)||void 0===a?void 0:a.revenue)||0)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:ed(t.isActive||"ACTIVE"===t.status)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-admin-text-muted",children:(0,w.cp)(t.createdAt,{format:"short"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),e.push("/admin/tenants/".concat(t.id))},className:"text-admin-primary hover:text-admin-primary-dark",title:"مشاهده جزئیات",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),en(t)},className:"text-admin-warning hover:text-admin-warning-dark",title:"ویرایش",children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"text-admin-text-muted hover:text-admin-text",title:"عملیات بیشتر",children:(0,s.jsx)(j,{className:"h-4 w-4"})})]})})]},t.id)})})]})})}),Z.pages>1&&(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-admin-text-muted",children:["نمایش ",(Z.page-1)*Z.limit+1," تا ",Math.min(Z.page*Z.limit,Z.total)," از ",Z.total," نتیجه"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)("button",{onClick:()=>ea(Z.page-1),disabled:1===Z.page,className:"px-3 py-2 text-sm font-medium text-admin-text bg-white border border-admin-border rounded-admin hover:bg-admin-bg disabled:opacity-50 disabled:cursor-not-allowed",children:"قبلی"}),Array.from({length:Math.min(5,Z.pages)},(e,t)=>{let a=t+1;return(0,s.jsx)("button",{onClick:()=>ea(a),className:"px-3 py-2 text-sm font-medium rounded-admin ".concat(a===Z.page?"bg-admin-primary text-white":"text-admin-text bg-white border border-admin-border hover:bg-admin-bg"),children:a},a)}),(0,s.jsx)("button",{onClick:()=>ea(Z.page+1),disabled:Z.page===Z.pages,className:"px-3 py-2 text-sm font-medium text-admin-text bg-white border border-admin-border rounded-admin hover:bg-admin-bg disabled:opacity-50 disabled:cursor-not-allowed",children:"بعدی"})]})]})]})]}),(0,s.jsx)(R,{tenant:O,isOpen:J,onClose:()=>{Y(!1),W(null)},onSave:e=>{let t={id:e.id,name:e.name,displayName:e.displayName,subdomain:e.subdomain,description:e.description,businessType:e.businessType,city:e.city,country:e.country,status:"ACTIVE",plan:e.plan,isActive:e.isActive,ownerName:e.ownerName,ownerEmail:e.ownerEmail,ownerPhone:e.ownerPhone,createdAt:e.createdAt,updatedAt:e.updatedAt,userCount:0,storageUsed:0,storageLimit:0,features:e.features,metrics:{userCount:0,customerCount:0,orderCount:0,revenue:0}};a(a=>a.map(a=>a.id===e.id?t:a)),y.Am.success("مستأجر با موفقیت به‌روزرسانی شد")}}),(0,s.jsx)(B,{isOpen:G,onClose:()=>K(!1),onSuccess:()=>{er(),K(!1)}})]})})},340:function(e,t,a){"use strict";a.d(t,{Jq:function(){return d},Op:function(){return r},_7:function(){return c},ax:function(){return n},bm:function(){return m},oL:function(){return l},tN:function(){return i},uW:function(){return o}});var s=a(4300);let n=async e=>{try{let t=new URLSearchParams;return t.append("page",e.page.toString()),t.append("limit",e.limit.toString()),e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.plan&&t.append("plan",e.plan),(await s.ZP.get("/admin/tenants?".concat(t.toString()))).data.data}catch(e){var t,a;throw console.error("Error fetching tenants:",e),Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"خطا در دریافت لیست مستأجرین")}},r=async e=>{try{return(await s.ZP.get("/admin/tenants/".concat(e))).data.data.tenant}catch(e){var t,a;throw console.error("Error fetching tenant details:",e),Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"خطا در دریافت جزئیات مستأجر")}},i=async e=>{try{return(await s.ZP.get("/admin/tenants/".concat(e,"/metrics"))).data.data}catch(e){var t,a;throw console.error("Error fetching tenant metrics:",e),Error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"خطا در دریافت متریک‌های مستأجر")}},d=async(e,t)=>{try{return(await s.ZP.put("/admin/tenants/".concat(e),t)).data.data.tenant}catch(e){var a,n;throw console.error("Error updating tenant:",e),Error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"خطا در به‌روزرسانی مستأجر")}},l=async(e,t)=>{try{let a=new URLSearchParams;a.append("format",e),t&&(t.search&&a.append("search",t.search),t.status&&a.append("status",t.status),t.plan&&a.append("plan",t.plan));let n=await s.ZP.get("/admin/tenants/export?".concat(a.toString()),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([n.data])),i=document.createElement("a");return i.href=r,i.setAttribute("download","tenants-export-".concat(new Date().toISOString().split("T")[0],".").concat(e)),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(r),{success:!0}}catch(e){var a,n;throw console.error("Error exporting tenants:",e),Error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"خطا در صادرات داده‌ها")}},c=async(e,t)=>{try{return(await s.ZP.post("/admin/tenants/bulk-status",{tenantIds:e,isActive:t})).data}catch(e){var a,n;throw console.error("Error bulk updating tenant status:",e),Error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"خطا در به‌روزرسانی وضعیت گروهی")}},m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";try{let a=new URLSearchParams;return a.append("days",e.toString()),a.append("groupBy",t),(await s.ZP.get("/admin/tenants/analytics/growth?".concat(a.toString()))).data.data}catch(e){var a,n;throw console.error("Error fetching tenant growth analytics:",e),Error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"خطا در دریافت تحلیل رشد مستأجرین")}},o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monthly",t=arguments.length>1?arguments[1]:void 0;try{let a=new URLSearchParams;return a.append("period",e),t&&a.append("year",t.toString()),(await s.ZP.get("/admin/tenants/analytics/revenue?".concat(a.toString()))).data.data}catch(e){var a,n;throw console.error("Error fetching tenant revenue analytics:",e),Error((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"خطا در دریافت تحلیل درآمد مستأجرین")}}}},function(e){e.O(0,[301,64,804,902,971,117,744],function(){return e(e.s=7899)}),_N_E=e.O()}]);