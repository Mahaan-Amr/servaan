(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},974:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),t(5480),t(4514),t(5866);var s=t(3191),n=t(8716),a=t(7922),i=t.n(a),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5480)),"D:\\servaan\\src\\admin\\frontend\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4514)),"D:\\servaan\\src\\admin\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\servaan\\src\\admin\\frontend\\src\\app\\page.tsx"],d="/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6566:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},3976:(e,r,t)=>{Promise.resolve().then(t.bind(t,4497))},194:(e,r,t)=>{Promise.resolve().then(t.bind(t,2632))},4497:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(326);t(7577);var n=t(5047);function a(){return(0,n.useRouter)(),s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-admin-bg",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-admin-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-admin-text",children:"در حال بارگذاری..."})]})})}},2632:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var s=t(326),n=t(4066),a=t(381);function i({children:e}){return(0,s.jsxs)(n.W,{children:[e,s.jsx(a.x7,{position:"top-center",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:4e3,style:{background:"#363636",color:"#fff",direction:"rtl",fontFamily:"Vazirmatn, Inter, sans-serif"},success:{duration:3e3,style:{background:"#10B981"}},error:{duration:5e3,style:{background:"#EF4444"}},loading:{style:{background:"#3B82F6"}}}})]})}},4066:(e,r,t)=>{"use strict";t.d(r,{J3:()=>c,W:()=>l,c2:()=>u});var s=t(326),n=t(7577),a=t(5047),i=t(7667);let o=(0,n.createContext)(void 0);function l({children:e}){let[r,t]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[u,d]=(0,n.useState)(null),p=(0,a.useRouter)();(0,n.useCallback)(async()=>{try{if(c(!0),!i.KE()){t(null),c(!1);return}if(!await i.Wg()){i.w3(),t(null),c(!1);return}let e=await i.T();t(e),i.ZM(e,!0)}catch(e){console.error("Admin auth check failed:",e),i.w3(),t(null)}finally{c(!1)}},[]);let m=(0,n.useCallback)(async e=>{try{c(!0),d(null);let r=await i.$g(e);if(r.success)t(r.data.user),p.push("/admin/dashboard");else throw Error(r.message||"Login failed")}catch(e){throw console.error("Admin login error:",e),d(e.message||"Login failed"),e}finally{c(!1)}},[p]),h=(0,n.useCallback)(async()=>{try{c(!0),await i.rE()}catch(e){console.error("Admin logout error:",e)}finally{t(null),i.w3(),c(!1),p.push("/admin/login")}},[p]),f=(0,n.useCallback)(()=>{d(null)},[]),g=(0,n.useCallback)(e=>i.CI(r,e),[r]),x=(0,n.useCallback)(e=>i.Aw(r,e),[r]);return s.jsx(o.Provider,{value:{user:r,loading:l,error:u,login:m,logout:h,clearError:f,hasRole:g,hasAnyRole:x,isAuthenticated:!!r},children:e})}function c(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAdminAuth must be used within an AdminAuthProvider");return e}function u(e,r){return function(t){let{user:n,loading:i,hasRole:o}=c();return((0,a.useRouter)(),i)?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-admin-primary border-t-transparent"})}):n&&(!r||o(r))?s.jsx(e,{...t}):null}}},7667:(e,r,t)=>{"use strict";t.d(r,{$g:()=>m,rE:()=>h,w3:()=>d,ZP:()=>y,T:()=>f,KE:()=>c,CI:()=>x,Aw:()=>E,ZM:()=>p,Wg:()=>g});var s,n,a,i,o=t(4099);(function(e){e.SUPER_ADMIN="SUPER_ADMIN",e.PLATFORM_ADMIN="PLATFORM_ADMIN",e.SUPPORT="SUPPORT",e.DEVELOPER="DEVELOPER"})(s||(s={})),function(e){e.HEALTHY="HEALTHY",e.WARNING="WARNING",e.CRITICAL="CRITICAL",e.MAINTENANCE="MAINTENANCE"}(n||(n={})),function(e){e.ACTIVE="ACTIVE",e.SUSPENDED="SUSPENDED",e.PENDING="PENDING",e.CANCELLED="CANCELLED"}(a||(a={})),function(e){e.STARTER="STARTER",e.BUSINESS="BUSINESS",e.ENTERPRISE="ENTERPRISE"}(i||(i={}));let l=o.Z.create({baseURL:"http://localhost:3003/api",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let r=c();return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>(e.response?.status===401&&d(),Promise.reject(e)));let c=()=>null,u=(e,r=!1)=>{},d=()=>{},p=(e,r=!1)=>{},m=async e=>{try{let r=(await l.post("/admin/auth/login",e)).data;if(r.success){let{user:e,token:t}=r.data;return u(t,!0),p(e,!0),l.defaults.headers.common.Authorization=`Bearer ${t}`,{success:!0,message:r.message,data:{user:e,token:t}}}throw Error(r.message||"Login failed")}catch(e){throw console.error("Admin login error:",e),Error(e.response?.data?.message||e.message||"Login failed")}},h=async()=>{try{c()&&await l.post("/admin/auth/logout")}catch(e){console.error("Admin logout error:",e)}finally{d()}},f=async()=>{try{return(await l.get("/admin/auth/profile")).data.data}catch(e){throw console.error("Get admin profile error:",e),Error(e.response?.data?.message||e.message||"Failed to get profile")}},g=async()=>{try{return(await l.get("/admin/auth/verify")).data.success}catch(e){return console.error("Admin token verification failed:",e),!1}},x=(e,r)=>!!e&&e.role===r,E=(e,r)=>!!e&&r.includes(e.role),y=l},4514:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>a});var s=t(9510);let n=(0,t(8570).createProxy)(String.raw`D:\servaan\src\admin\frontend\src\components\ClientProviders.tsx#default`);t(4315);let a={title:"سِروان | پنل مدیریت پلتفرم",description:"پنل مدیریت پلتفرم سِروان برای مدیریت مستأجرین و نظارت بر سیستم"};function i({children:e}){return(0,s.jsxs)("html",{lang:"fa",dir:"rtl",children:[(0,s.jsxs)("head",{children:[s.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),s.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),s.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap",rel:"stylesheet"})]}),s.jsx("body",{className:"font-vazir",children:s.jsx(n,{children:e})})]})}},5480:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`D:\servaan\src\admin\frontend\src\app\page.tsx#default`)},4315:()=>{}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[410],()=>t(974));module.exports=s})();